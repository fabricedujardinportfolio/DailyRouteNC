/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ti(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const ie={},yr=[],ft=()=>{},uu=()=>!1,Qs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ki=t=>t.startsWith("onUpdate:"),Se=Object.assign,Ai=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hu=Object.prototype.hasOwnProperty,Z=(t,e)=>hu.call(t,e),H=Array.isArray,br=t=>fs(t)==="[object Map]",Zs=t=>fs(t)==="[object Set]",oo=t=>fs(t)==="[object Date]",z=t=>typeof t=="function",ye=t=>typeof t=="string",pt=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",Ua=t=>(ce(t)||z(t))&&z(t.then)&&z(t.catch),Na=Object.prototype.toString,fs=t=>Na.call(t),du=t=>fs(t).slice(8,-1),Ma=t=>fs(t)==="[object Object]",Ri=t=>ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hr=Ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),en=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},fu=/-(\w)/g,Ye=en(t=>t.replace(fu,(e,r)=>r?r.toUpperCase():"")),pu=/\B([A-Z])/g,ir=en(t=>t.replace(pu,"-$1").toLowerCase()),tn=en(t=>t.charAt(0).toUpperCase()+t.slice(1)),En=en(t=>t?`on${tn(t)}`:""),Nt=(t,e)=>!Object.is(t,e),Ps=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Ba=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},Us=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ao;const rn=()=>ao||(ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(t){if(H(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=ye(s)?vu(s):Oi(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(ye(t)||ce(t))return t}const gu=/;(?![^(]*\))/g,mu=/:([^]+)/,_u=/\/\*[^]*?\*\//g;function vu(t){const e={};return t.replace(_u,"").split(gu).forEach(r=>{if(r){const s=r.split(mu);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function rt(t){let e="";if(ye(t))e=t;else if(H(t))for(let r=0;r<t.length;r++){const s=rt(t[r]);s&&(e+=s+" ")}else if(ce(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const yu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bu=Ti(yu);function Fa(t){return!!t||t===""}function wu(t,e){if(t.length!==e.length)return!1;let r=!0;for(let s=0;r&&s<t.length;s++)r=sn(t[s],e[s]);return r}function sn(t,e){if(t===e)return!0;let r=oo(t),s=oo(e);if(r||s)return r&&s?t.getTime()===e.getTime():!1;if(r=pt(t),s=pt(e),r||s)return t===e;if(r=H(t),s=H(e),r||s)return r&&s?wu(t,e):!1;if(r=ce(t),s=ce(e),r||s){if(!r||!s)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!sn(t[o],e[o]))return!1}}return String(t)===String(e)}function Eu(t,e){return t.findIndex(r=>sn(r,e))}const Ha=t=>!!(t&&t.__v_isRef===!0),Je=t=>ye(t)?t:t==null?"":H(t)||ce(t)&&(t.toString===Na||!z(t.toString))?Ha(t)?Je(t.value):JSON.stringify(t,Va,2):String(t),Va=(t,e)=>Ha(e)?Va(t,e.value):br(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[Sn(s,i)+" =>"]=n,r),{})}:Zs(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Sn(r))}:pt(e)?Sn(e):ce(e)&&!H(e)&&!Ma(e)?String(e):e,Sn=(t,e="")=>{var r;return pt(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ce;class za{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!e&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ce;try{return Ce=this,e()}finally{Ce=r}}}on(){Ce=this}off(){Ce=this.parent}stop(e){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function qa(t){return new za(t)}function Wa(){return Ce}function Su(t,e=!1){Ce&&Ce.cleanups.push(t)}let le;const xn=new WeakSet;class Ka{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xn.has(this)&&(xn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ja(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,lo(this),Xa(this);const e=le,r=st;le=this,st=!0;try{return this.fn()}finally{Ya(this),le=e,st=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ii(e);this.deps=this.depsTail=void 0,lo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kn(this)&&this.run()}get dirty(){return Kn(this)}}let Ga=0,Vr,zr;function Ja(t,e=!1){if(t.flags|=8,e){t.next=zr,zr=t;return}t.next=Vr,Vr=t}function Ci(){Ga++}function Pi(){if(--Ga>0)return;if(zr){let e=zr;for(zr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Vr;){let e=Vr;for(Vr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function Xa(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ya(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),Ii(s),xu(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function Kn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Qa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Qa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===rs))return;t.globalVersion=rs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Kn(t)){t.flags&=-3;return}const r=le,s=st;le=t,st=!0;try{Xa(t);const n=t.fn(t._value);(e.version===0||Nt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{le=r,st=s,Ya(t),t.flags&=-3}}function Ii(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Ii(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function xu(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let st=!0;const Za=[];function Ht(){Za.push(st),st=!1}function Vt(){const t=Za.pop();st=t===void 0?!0:t}function lo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=le;le=void 0;try{e()}finally{le=r}}}let rs=0;class Tu{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $i{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!le||!st||le===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==le)r=this.activeLink=new Tu(le,this),le.deps?(r.prevDep=le.depsTail,le.depsTail.nextDep=r,le.depsTail=r):le.deps=le.depsTail=r,el(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=le.depsTail,r.nextDep=void 0,le.depsTail.nextDep=r,le.depsTail=r,le.deps===r&&(le.deps=s)}return r}trigger(e){this.version++,rs++,this.notify(e)}notify(e){Ci();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Pi()}}}function el(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)el(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Ns=new WeakMap,Zt=Symbol(""),Gn=Symbol(""),ss=Symbol("");function ke(t,e,r){if(st&&le){let s=Ns.get(t);s||Ns.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new $i),n.map=s,n.key=r),n.track()}}function wt(t,e,r,s,n,i){const o=Ns.get(t);if(!o){rs++;return}const a=l=>{l&&l.trigger()};if(Ci(),e==="clear")o.forEach(a);else{const l=H(t),u=l&&Ri(r);if(l&&r==="length"){const c=Number(s);o.forEach((h,d)=>{(d==="length"||d===ss||!pt(d)&&d>=c)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(ss)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Zt)),br(t)&&a(o.get(Gn)));break;case"delete":l||(a(o.get(Zt)),br(t)&&a(o.get(Gn)));break;case"set":br(t)&&a(o.get(Zt));break}}Pi()}function ku(t,e){const r=Ns.get(t);return r&&r.get(e)}function hr(t){const e=Y(t);return e===t?e:(ke(e,"iterate",ss),Xe(t)?e:e.map(Ae))}function nn(t){return ke(t=Y(t),"iterate",ss),t}const Au={__proto__:null,[Symbol.iterator](){return Tn(this,Symbol.iterator,Ae)},concat(...t){return hr(this).concat(...t.map(e=>H(e)?hr(e):e))},entries(){return Tn(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return _t(this,"every",t,e,void 0,arguments)},filter(t,e){return _t(this,"filter",t,e,r=>r.map(Ae),arguments)},find(t,e){return _t(this,"find",t,e,Ae,arguments)},findIndex(t,e){return _t(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _t(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return _t(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _t(this,"forEach",t,e,void 0,arguments)},includes(...t){return kn(this,"includes",t)},indexOf(...t){return kn(this,"indexOf",t)},join(t){return hr(this).join(t)},lastIndexOf(...t){return kn(this,"lastIndexOf",t)},map(t,e){return _t(this,"map",t,e,void 0,arguments)},pop(){return jr(this,"pop")},push(...t){return jr(this,"push",t)},reduce(t,...e){return co(this,"reduce",t,e)},reduceRight(t,...e){return co(this,"reduceRight",t,e)},shift(){return jr(this,"shift")},some(t,e){return _t(this,"some",t,e,void 0,arguments)},splice(...t){return jr(this,"splice",t)},toReversed(){return hr(this).toReversed()},toSorted(t){return hr(this).toSorted(t)},toSpliced(...t){return hr(this).toSpliced(...t)},unshift(...t){return jr(this,"unshift",t)},values(){return Tn(this,"values",Ae)}};function Tn(t,e,r){const s=nn(t),n=s[e]();return s!==t&&!Xe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=r(i.value)),i}),n}const Ru=Array.prototype;function _t(t,e,r,s,n,i){const o=nn(t),a=o!==t&&!Xe(t),l=o[e];if(l!==Ru[e]){const h=l.apply(t,i);return a?Ae(h):h}let u=r;o!==t&&(a?u=function(h,d){return r.call(this,Ae(h),d,t)}:r.length>2&&(u=function(h,d){return r.call(this,h,d,t)}));const c=l.call(o,u,s);return a&&n?n(c):c}function co(t,e,r,s){const n=nn(t);let i=r;return n!==t&&(Xe(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,Ae(a),l,t)}),n[e](i,...s)}function kn(t,e,r){const s=Y(t);ke(s,"iterate",ss);const n=s[e](...r);return(n===-1||n===!1)&&Li(r[0])?(r[0]=Y(r[0]),s[e](...r)):n}function jr(t,e,r=[]){Ht(),Ci();const s=Y(t)[e].apply(t,r);return Pi(),Vt(),s}const Ou=Ti("__proto__,__v_isRef,__isVue"),tl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pt));function Cu(t){pt(t)||(t=String(t));const e=Y(this);return ke(e,"has",t),e.hasOwnProperty(t)}class rl{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Bu:ol:i?il:nl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=H(e);if(!n){let l;if(o&&(l=Au[r]))return l;if(r==="hasOwnProperty")return Cu}const a=Reflect.get(e,r,ve(e)?e:s);return(pt(r)?tl.has(r):Ou(r))||(n||ke(e,"get",r),i)?a:ve(a)?o&&Ri(r)?a:a.value:ce(a)?n?ll(a):ps(a):a}}class sl extends rl{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];if(!this._isShallow){const l=rr(i);if(!Xe(s)&&!rr(s)&&(i=Y(i),s=Y(s)),!H(e)&&ve(i)&&!ve(s))return l?!1:(i.value=s,!0)}const o=H(e)&&Ri(r)?Number(r)<e.length:Z(e,r),a=Reflect.set(e,r,s,ve(e)?e:n);return e===Y(n)&&(o?Nt(s,i)&&wt(e,"set",r,s):wt(e,"add",r,s)),a}deleteProperty(e,r){const s=Z(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&wt(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!pt(r)||!tl.has(r))&&ke(e,"has",r),s}ownKeys(e){return ke(e,"iterate",H(e)?"length":Zt),Reflect.ownKeys(e)}}class Pu extends rl{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Iu=new sl,$u=new Pu,Du=new sl(!0);const Jn=t=>t,bs=t=>Reflect.getPrototypeOf(t);function ju(t,e,r){return function(...s){const n=this.__v_raw,i=Y(n),o=br(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...s),c=r?Jn:e?Xn:Ae;return!e&&ke(i,"iterate",l?Gn:Zt),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function ws(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Lu(t,e){const r={get(n){const i=this.__v_raw,o=Y(i),a=Y(n);t||(Nt(n,a)&&ke(o,"get",n),ke(o,"get",a));const{has:l}=bs(o),u=e?Jn:t?Xn:Ae;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ke(Y(n),"iterate",Zt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Y(i),a=Y(n);return t||(Nt(n,a)&&ke(o,"has",n),ke(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Y(a),u=e?Jn:t?Xn:Ae;return!t&&ke(l,"iterate",Zt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return Se(r,t?{add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear")}:{add(n){!e&&!Xe(n)&&!rr(n)&&(n=Y(n));const i=Y(this);return bs(i).has.call(i,n)||(i.add(n),wt(i,"add",n,n)),this},set(n,i){!e&&!Xe(i)&&!rr(i)&&(i=Y(i));const o=Y(this),{has:a,get:l}=bs(o);let u=a.call(o,n);u||(n=Y(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Nt(i,c)&&wt(o,"set",n,i):wt(o,"add",n,i),this},delete(n){const i=Y(this),{has:o,get:a}=bs(i);let l=o.call(i,n);l||(n=Y(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&wt(i,"delete",n,void 0),u},clear(){const n=Y(this),i=n.size!==0,o=n.clear();return i&&wt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=ju(n,t,e)}),r}function Di(t,e){const r=Lu(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(Z(r,n)&&n in s?r:s,n,i)}const Uu={get:Di(!1,!1)},Nu={get:Di(!1,!0)},Mu={get:Di(!0,!1)};const nl=new WeakMap,il=new WeakMap,ol=new WeakMap,Bu=new WeakMap;function Fu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hu(t){return t.__v_skip||!Object.isExtensible(t)?0:Fu(du(t))}function ps(t){return rr(t)?t:ji(t,!1,Iu,Uu,nl)}function al(t){return ji(t,!1,Du,Nu,il)}function ll(t){return ji(t,!0,$u,Mu,ol)}function ji(t,e,r,s,n){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Hu(t);if(o===0)return t;const a=new Proxy(t,o===2?s:r);return n.set(t,a),a}function Mt(t){return rr(t)?Mt(t.__v_raw):!!(t&&t.__v_isReactive)}function rr(t){return!!(t&&t.__v_isReadonly)}function Xe(t){return!!(t&&t.__v_isShallow)}function Li(t){return t?!!t.__v_raw:!1}function Y(t){const e=t&&t.__v_raw;return e?Y(e):t}function Ui(t){return!Z(t,"__v_skip")&&Object.isExtensible(t)&&Ba(t,"__v_skip",!0),t}const Ae=t=>ce(t)?ps(t):t,Xn=t=>ce(t)?ll(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function xe(t){return cl(t,!1)}function Vu(t){return cl(t,!0)}function cl(t,e){return ve(t)?t:new zu(t,e)}class zu{constructor(e,r){this.dep=new $i,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Y(e),this._value=r?e:Ae(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||Xe(e)||rr(e);e=s?e:Y(e),Nt(e,r)&&(this._rawValue=e,this._value=s?e:Ae(e),this.dep.trigger())}}function wr(t){return ve(t)?t.value:t}const qu={get:(t,e,r)=>e==="__v_raw"?t:wr(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return ve(n)&&!ve(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function ul(t){return Mt(t)?t:new Proxy(t,qu)}function Wu(t){const e=H(t)?new Array(t.length):{};for(const r in t)e[r]=Gu(t,r);return e}class Ku{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ku(Y(this._object),this._key)}}function Gu(t,e,r){const s=t[e];return ve(s)?s:new Ku(t,e,r)}class Ju{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new $i(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return Ja(this,!0),!0}get value(){const e=this.dep.track();return Qa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xu(t,e,r=!1){let s,n;return z(t)?s=t:(s=t.get,n=t.set),new Ju(s,n,r)}const Es={},Ms=new WeakMap;let Gt;function Yu(t,e=!1,r=Gt){if(r){let s=Ms.get(r);s||Ms.set(r,s=[]),s.push(t)}}function Qu(t,e,r=ie){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,u=y=>n?y:Xe(y)||n===!1||n===0?Et(y,1):Et(y);let c,h,d,p,v=!1,b=!1;if(ve(t)?(h=()=>t.value,v=Xe(t)):Mt(t)?(h=()=>u(t),v=!0):H(t)?(b=!0,v=t.some(y=>Mt(y)||Xe(y)),h=()=>t.map(y=>{if(ve(y))return y.value;if(Mt(y))return u(y);if(z(y))return l?l(y,2):y()})):z(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Ht();try{d()}finally{Vt()}}const y=Gt;Gt=c;try{return l?l(t,3,[p]):t(p)}finally{Gt=y}}:h=ft,e&&n){const y=h,C=n===!0?1/0:n;h=()=>Et(y(),C)}const w=Wa(),_=()=>{c.stop(),w&&Ai(w.effects,c)};if(i&&e){const y=e;e=(...C)=>{y(...C),_()}}let R=b?new Array(t.length).fill(Es):Es;const T=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const C=c.run();if(n||v||(b?C.some((G,q)=>Nt(G,R[q])):Nt(C,R))){d&&d();const G=Gt;Gt=c;try{const q=[C,R===Es?void 0:b&&R[0]===Es?[]:R,p];l?l(e,3,q):e(...q),R=C}finally{Gt=G}}}else c.run()};return a&&a(T),c=new Ka(h),c.scheduler=o?()=>o(T,!1):T,p=y=>Yu(y,!1,c),d=c.onStop=()=>{const y=Ms.get(c);if(y){if(l)l(y,4);else for(const C of y)C();Ms.delete(c)}},e?s?T(!0):R=c.run():o?o(T.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function Et(t,e=1/0,r){if(e<=0||!ce(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,ve(t))Et(t.value,e,r);else if(H(t))for(let s=0;s<t.length;s++)Et(t[s],e,r);else if(Zs(t)||br(t))t.forEach(s=>{Et(s,e,r)});else if(Ma(t)){for(const s in t)Et(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Et(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(t,e,r,s){try{return s?t(...s):t()}catch(n){on(n,e,r)}}function gt(t,e,r,s){if(z(t)){const n=gs(t,e,r,s);return n&&Ua(n)&&n.catch(i=>{on(i,e,r)}),n}if(H(t)){const n=[];for(let i=0;i<t.length;i++)n.push(gt(t[i],e,r,s));return n}}function on(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ie;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Ht(),gs(i,null,10,[t,l,u]),Vt();return}}Zu(t,r,n,s,o)}function Zu(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let ut=-1;const Er=[];let It=null,mr=0;const hl=Promise.resolve();let Bs=null;function an(t){const e=Bs||hl;return t?e.then(this?t.bind(this):t):e}function eh(t){let e=ut+1,r=Pe.length;for(;e<r;){const s=e+r>>>1,n=Pe[s],i=ns(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function Ni(t){if(!(t.flags&1)){const e=ns(t),r=Pe[Pe.length-1];!r||!(t.flags&2)&&e>=ns(r)?Pe.push(t):Pe.splice(eh(e),0,t),t.flags|=1,dl()}}function dl(){Bs||(Bs=hl.then(pl))}function th(t){H(t)?Er.push(...t):It&&t.id===-1?It.splice(mr+1,0,t):t.flags&1||(Er.push(t),t.flags|=1),dl()}function uo(t,e,r=ut+1){for(;r<Pe.length;r++){const s=Pe[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Pe.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function fl(t){if(Er.length){const e=[...new Set(Er)].sort((r,s)=>ns(r)-ns(s));if(Er.length=0,It){It.push(...e);return}for(It=e,mr=0;mr<It.length;mr++){const r=It[mr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}It=null,mr=0}}const ns=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pl(t){try{for(ut=0;ut<Pe.length;ut++){const e=Pe[ut];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ut<Pe.length;ut++){const e=Pe[ut];e&&(e.flags&=-2)}ut=-1,Pe.length=0,fl(),Bs=null,(Pe.length||Er.length)&&pl()}}let $e=null,gl=null;function Fs(t){const e=$e;return $e=t,gl=t&&t.type.__scopeId||null,e}function Mi(t,e=$e,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&Eo(-1);const i=Fs(e);let o;try{o=t(...n)}finally{Fs(i),s._d&&Eo(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ze(t,e){if($e===null)return t;const r=hn($e),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ie]=e[n];i&&(z(i)&&(i={mounted:i,updated:i}),i.deep&&Et(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function qt(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Ht(),gt(l,r,8,[t.el,a,t,e]),Vt())}}const ml=Symbol("_vte"),rh=t=>t.__isTeleport,qr=t=>t&&(t.disabled||t.disabled===""),sh=t=>t&&(t.defer||t.defer===""),ho=t=>typeof SVGElement<"u"&&t instanceof SVGElement,fo=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Yn=(t,e)=>{const r=t&&t.to;return ye(r)?e?e(r):null:r},nh={name:"Teleport",__isTeleport:!0,process(t,e,r,s,n,i,o,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:p,querySelector:v,createText:b,createComment:w}}=u,_=qr(e.props);let{shapeFlag:R,children:T,dynamicChildren:y}=e;if(t==null){const C=e.el=b(""),G=e.anchor=b("");p(C,r,s),p(G,r,s);const q=(N,ee)=>{R&16&&(n&&n.isCE&&(n.ce._teleportTarget=N),c(T,N,ee,n,i,o,a,l))},B=()=>{const N=e.target=Yn(e.props,v),ee=_l(N,e,b,p);N&&(o!=="svg"&&ho(N)?o="svg":o!=="mathml"&&fo(N)&&(o="mathml"),_||(q(N,ee),Is(e,!1)))};_&&(q(r,G),Is(e,!0)),sh(e.props)?Ue(B,i):B()}else{e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,G=e.target=t.target,q=e.targetAnchor=t.targetAnchor,B=qr(t.props),N=B?r:G,ee=B?C:q;if(o==="svg"||ho(G)?o="svg":(o==="mathml"||fo(G))&&(o="mathml"),y?(d(t.dynamicChildren,y,N,n,i,o,a),Vi(t,e,!0)):l||h(t,e,N,ee,n,i,o,a,!1),_)B?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ss(e,r,C,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const be=e.target=Yn(e.props,v);be&&Ss(e,be,null,u,0)}else B&&Ss(e,G,q,u,1);Is(e,_)}},remove(t,e,r,{um:s,o:{remove:n}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:d}=t;if(h&&(n(u),n(c)),i&&n(l),o&16){const p=i||!qr(d);for(let v=0;v<a.length;v++){const b=a[v];s(b,e,r,p,!!b.dynamicChildren)}}},move:Ss,hydrate:ih};function Ss(t,e,r,{o:{insert:s},m:n},i=2){i===0&&s(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=i===2;if(h&&s(o,e,r),(!h||qr(c))&&l&16)for(let d=0;d<u.length;d++)n(u[d],e,r,2);h&&s(a,e,r)}function ih(t,e,r,s,n,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const d=e.target=Yn(e.props,l);if(d){const p=qr(e.props),v=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),r,s,n,i),e.targetStart=v,e.targetAnchor=v&&o(v);else{e.anchor=o(t);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||_l(d,e,c,u),h(v&&o(v),e,d,r,s,n,i)}Is(e,p)}return e.anchor&&o(e.anchor)}const zy=nh;function Is(t,e){const r=t.ctx;if(r&&r.ut){let s,n;for(e?(s=t.el,n=t.anchor):(s=t.targetStart,n=t.targetAnchor);s&&s!==n;)s.nodeType===1&&s.setAttribute("data-v-owner",r.uid),s=s.nextSibling;r.ut()}}function _l(t,e,r,s){const n=e.targetStart=r(""),i=e.targetAnchor=r("");return n[ml]=i,t&&(s(n,t),s(i,t)),i}function Bi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Bi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function or(t,e){return z(t)?Se({name:t.name},e,{setup:t}):t}function qy(){const t=id();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function vl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Qn(t,e,r,s,n=!1){if(H(t)){t.forEach((v,b)=>Qn(v,e&&(H(e)?e[b]:e),r,s,n));return}if(Wr(s)&&!n)return;const i=s.shapeFlag&4?hn(s.component):s.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ie?a.refs={}:a.refs,h=a.setupState,d=Y(h),p=h===ie?()=>!1:v=>Z(d,v);if(u!=null&&u!==l&&(ye(u)?(c[u]=null,p(u)&&(h[u]=null)):ve(u)&&(u.value=null)),z(l))gs(l,a,12,[o,c]);else{const v=ye(l),b=ve(l);if(v||b){const w=()=>{if(t.f){const _=v?p(l)?h[l]:c[l]:l.value;n?H(_)&&Ai(_,i):H(_)?_.includes(i)||_.push(i):v?(c[l]=[i],p(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else v?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(w.id=-1,Ue(w,r)):w()}}}rn().requestIdleCallback;rn().cancelIdleCallback;const Wr=t=>!!t.type.__asyncLoader,yl=t=>t.type.__isKeepAlive;function oh(t,e){bl(t,"a",e)}function ah(t,e){bl(t,"da",e)}function bl(t,e,r=Ee){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ln(e,s,r),r){let n=r.parent;for(;n&&n.parent;)yl(n.parent.vnode)&&lh(s,e,r,n),n=n.parent}}function lh(t,e,r,s){const n=ln(e,t,s,!0);El(()=>{Ai(s[e],n)},r)}function ln(t,e,r=Ee,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ht();const a=ms(r),l=gt(e,r,t,o);return a(),Vt(),l});return s?n.unshift(i):n.push(i),i}}const Tt=t=>(e,r=Ee)=>{(!as||t==="sp")&&ln(t,(...s)=>e(...s),r)},ch=Tt("bm"),wl=Tt("m"),uh=Tt("bu"),hh=Tt("u"),dh=Tt("bum"),El=Tt("um"),fh=Tt("sp"),ph=Tt("rtg"),gh=Tt("rtc");function mh(t,e=Ee){ln("ec",t,e)}const _h="components";function Sl(t,e){return yh(_h,t,!0,e)||t}const vh=Symbol.for("v-ndc");function yh(t,e,r=!0,s=!1){const n=$e||Ee;if(n){const i=n.type;{const a=ud(i,!1);if(a&&(a===e||a===Ye(e)||a===tn(Ye(e))))return i}const o=po(n[t]||i[t],e)||po(n.appContext[t],e);return!o&&s?i:o}}function po(t,e){return t&&(t[e]||t[Ye(e)]||t[tn(Ye(e))])}function bh(t,e,r,s){let n;const i=r,o=H(t);if(o||ye(t)){const a=o&&Mt(t);let l=!1;a&&(l=!Xe(t),t=nn(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?Ae(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ce(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Zn=t=>t?Fl(t)?hn(t):Zn(t.parent):null,Kr=Se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zn(t.parent),$root:t=>Zn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Fi(t),$forceUpdate:t=>t.f||(t.f=()=>{Ni(t.update)}),$nextTick:t=>t.n||(t.n=an.bind(t.proxy)),$watch:t=>Hh.bind(t)}),An=(t,e)=>t!==ie&&!t.__isScriptSetup&&Z(t,e),wh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(An(s,e))return o[e]=1,s[e];if(n!==ie&&Z(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&Z(u,e))return o[e]=3,i[e];if(r!==ie&&Z(r,e))return o[e]=4,r[e];ei&&(o[e]=0)}}const c=Kr[e];let h,d;if(c)return e==="$attrs"&&ke(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==ie&&Z(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,Z(d,e))return d[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return An(n,e)?(n[e]=r,!0):s!==ie&&Z(s,e)?(s[e]=r,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:i}},o){let a;return!!r[o]||t!==ie&&Z(t,o)||An(e,o)||(a=i[0])&&Z(a,o)||Z(s,o)||Z(Kr,o)||Z(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Z(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function go(t){return H(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let ei=!0;function Eh(t){const e=Fi(t),r=t.proxy,s=t.ctx;ei=!1,e.beforeCreate&&mo(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:p,updated:v,activated:b,deactivated:w,beforeDestroy:_,beforeUnmount:R,destroyed:T,unmounted:y,render:C,renderTracked:G,renderTriggered:q,errorCaptured:B,serverPrefetch:N,expose:ee,inheritAttrs:be,components:Me,directives:De,filters:zt}=e;if(u&&Sh(u,s,null),o)for(const W in o){const Q=o[W];z(Q)&&(s[W]=Q.bind(r))}if(n){const W=n.call(r,r);ce(W)&&(t.data=ps(W))}if(ei=!0,i)for(const W in i){const Q=i[W],mt=z(Q)?Q.bind(r,r):z(Q.get)?Q.get.bind(r,r):ft,At=!z(Q)&&z(Q.set)?Q.set.bind(r):ft,ot=Ie({get:mt,set:At});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>ot.value,set:je=>ot.value=je})}if(a)for(const W in a)xl(a[W],s,r,W);if(l){const W=z(l)?l.call(r):l;Reflect.ownKeys(W).forEach(Q=>{$s(Q,W[Q])})}c&&mo(c,t,"c");function he(W,Q){H(Q)?Q.forEach(mt=>W(mt.bind(r))):Q&&W(Q.bind(r))}if(he(ch,h),he(wl,d),he(uh,p),he(hh,v),he(oh,b),he(ah,w),he(mh,B),he(gh,G),he(ph,q),he(dh,R),he(El,y),he(fh,N),H(ee))if(ee.length){const W=t.exposed||(t.exposed={});ee.forEach(Q=>{Object.defineProperty(W,Q,{get:()=>r[Q],set:mt=>r[Q]=mt})})}else t.exposed||(t.exposed={});C&&t.render===ft&&(t.render=C),be!=null&&(t.inheritAttrs=be),Me&&(t.components=Me),De&&(t.directives=De),N&&vl(t)}function Sh(t,e,r=ft){H(t)&&(t=ti(t));for(const s in t){const n=t[s];let i;ce(n)?"default"in n?i=nt(n.from||s,n.default,!0):i=nt(n.from||s):i=nt(n),ve(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function mo(t,e,r){gt(H(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function xl(t,e,r,s){let n=s.includes(".")?Ll(r,s):()=>r[s];if(ye(t)){const i=e[t];z(i)&&Sr(n,i)}else if(z(t))Sr(n,t.bind(r));else if(ce(t))if(H(t))t.forEach(i=>xl(i,e,r,s));else{const i=z(t.handler)?t.handler.bind(r):e[t.handler];z(i)&&Sr(n,i,t)}}function Fi(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(u=>Hs(l,u,o,!0)),Hs(l,e,o)),ce(e)&&i.set(e,l),l}function Hs(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&Hs(t,i,r,!0),n&&n.forEach(o=>Hs(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=xh[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const xh={data:_o,props:vo,emits:vo,methods:Br,computed:Br,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Br,directives:Br,watch:kh,provide:_o,inject:Th};function _o(t,e){return e?t?function(){return Se(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function Th(t,e){return Br(ti(t),ti(e))}function ti(t){if(H(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Oe(t,e){return t?[...new Set([].concat(t,e))]:e}function Br(t,e){return t?Se(Object.create(null),t,e):e}function vo(t,e){return t?H(t)&&H(e)?[...new Set([...t,...e])]:Se(Object.create(null),go(t),go(e??{})):e}function kh(t,e){if(!t)return e;if(!e)return t;const r=Se(Object.create(null),t);for(const s in e)r[s]=Oe(t[s],e[s]);return r}function Tl(){return{app:null,config:{isNativeTag:uu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ah=0;function Rh(t,e){return function(s,n=null){z(s)||(s=Se({},s)),n!=null&&!ce(n)&&(n=null);const i=Tl(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Ah++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:dd,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(u,...h)):z(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const p=u._ceVNode||_e(s,n);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(p,c):t(p,c,d),l=!0,u._container=c,c.__vue_app__=u,hn(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(gt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=er;er=u;try{return c()}finally{er=h}}};return u}}let er=null;function $s(t,e){if(Ee){let r=Ee.provides;const s=Ee.parent&&Ee.parent.provides;s===r&&(r=Ee.provides=Object.create(s)),r[t]=e}}function nt(t,e,r=!1){const s=Ee||$e;if(s||er){const n=er?er._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&z(e)?e.call(s&&s.proxy):e}}function Oh(){return!!(Ee||$e||er)}const kl={},Al=()=>Object.create(kl),Rl=t=>Object.getPrototypeOf(t)===kl;function Ch(t,e,r,s=!1){const n={},i=Al();t.propsDefaults=Object.create(null),Ol(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:al(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Ph(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Y(n),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(cn(t.emitsOptions,d))continue;const p=e[d];if(l)if(Z(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const v=Ye(d);n[v]=ri(l,a,v,p,t,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{Ol(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!Z(e,h)&&((c=ir(h))===h||!Z(e,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(n[h]=ri(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!Z(e,h))&&(delete i[h],u=!0)}u&&wt(t.attrs,"set","")}function Ol(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Hr(l))continue;const u=e[l];let c;n&&Z(n,c=Ye(l))?!i||!i.includes(c)?r[c]=u:(a||(a={}))[c]=u:cn(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=Y(r),u=a||ie;for(let c=0;c<i.length;c++){const h=i[c];r[h]=ri(n,l,h,u[h],t,!Z(u,h))}}return o}function ri(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=Z(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:u}=n;if(r in u)s=u[r];else{const c=ms(n);s=u[r]=l.call(null,e),c()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===ir(r))&&(s=!0))}return s}const Ih=new WeakMap;function Cl(t,e,r=!1){const s=r?Ih:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!z(t)){const c=h=>{l=!0;const[d,p]=Cl(h,e,!0);Se(o,d),p&&a.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ce(t)&&s.set(t,yr),yr;if(H(i))for(let c=0;c<i.length;c++){const h=Ye(i[c]);yo(h)&&(o[h]=ie)}else if(i)for(const c in i){const h=Ye(c);if(yo(h)){const d=i[c],p=o[h]=H(d)||z(d)?{type:d}:Se({},d),v=p.type;let b=!1,w=!0;if(H(v))for(let _=0;_<v.length;++_){const R=v[_],T=z(R)&&R.name;if(T==="Boolean"){b=!0;break}else T==="String"&&(w=!1)}else b=z(v)&&v.name==="Boolean";p[0]=b,p[1]=w,(b||Z(p,"default"))&&a.push(h)}}const u=[o,a];return ce(t)&&s.set(t,u),u}function yo(t){return t[0]!=="$"&&!Hr(t)}const Pl=t=>t[0]==="_"||t==="$stable",Hi=t=>H(t)?t.map(ht):[ht(t)],$h=(t,e,r)=>{if(e._n)return e;const s=Mi((...n)=>Hi(e(...n)),r);return s._c=!1,s},Il=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Pl(n))continue;const i=t[n];if(z(i))e[n]=$h(n,i,s);else if(i!=null){const o=Hi(i);e[n]=()=>o}}},$l=(t,e)=>{const r=Hi(e);t.slots.default=()=>r},Dl=(t,e,r)=>{for(const s in e)(r||s!=="_")&&(t[s]=e[s])},Dh=(t,e,r)=>{const s=t.slots=Al();if(t.vnode.shapeFlag&32){const n=e._;n?(Dl(s,e,r),r&&Ba(s,"_",n,!0)):Il(e,s)}else e&&$l(t,e)},jh=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=ie;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:Dl(n,e,r):(i=!e.$stable,Il(e,n)),o=e}else e&&($l(t,e),o={default:1});if(i)for(const a in n)!Pl(a)&&o[a]==null&&delete n[a]},Ue=Jh;function Lh(t){return Uh(t)}function Uh(t,e){const r=rn();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:p=ft,insertStaticContent:v}=t,b=(f,g,m,k=null,E=null,A=null,$=void 0,I=null,P=!!g.dynamicChildren)=>{if(f===g)return;f&&!Lr(f,g)&&(k=S(f),je(f,E,A,!0),f=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:O,ref:F,shapeFlag:j}=g;switch(O){case un:w(f,g,m,k);break;case sr:_(f,g,m,k);break;case Ds:f==null&&R(g,m,k,$);break;case tt:Me(f,g,m,k,E,A,$,I,P);break;default:j&1?C(f,g,m,k,E,A,$,I,P):j&6?De(f,g,m,k,E,A,$,I,P):(j&64||j&128)&&O.process(f,g,m,k,E,A,$,I,P,U)}F!=null&&E&&Qn(F,f&&f.ref,A,g||f,!g)},w=(f,g,m,k)=>{if(f==null)s(g.el=a(g.children),m,k);else{const E=g.el=f.el;g.children!==f.children&&u(E,g.children)}},_=(f,g,m,k)=>{f==null?s(g.el=l(g.children||""),m,k):g.el=f.el},R=(f,g,m,k)=>{[f.el,f.anchor]=v(f.children,g,m,k,f.el,f.anchor)},T=({el:f,anchor:g},m,k)=>{let E;for(;f&&f!==g;)E=d(f),s(f,m,k),f=E;s(g,m,k)},y=({el:f,anchor:g})=>{let m;for(;f&&f!==g;)m=d(f),n(f),f=m;n(g)},C=(f,g,m,k,E,A,$,I,P)=>{g.type==="svg"?$="svg":g.type==="math"&&($="mathml"),f==null?G(g,m,k,E,A,$,I,P):N(f,g,E,A,$,I,P)},G=(f,g,m,k,E,A,$,I)=>{let P,O;const{props:F,shapeFlag:j,transition:M,dirs:V}=f;if(P=f.el=o(f.type,A,F&&F.is,F),j&8?c(P,f.children):j&16&&B(f.children,P,null,k,E,Rn(f,A),$,I),V&&qt(f,null,k,"created"),q(P,f,f.scopeId,$,k),F){for(const oe in F)oe!=="value"&&!Hr(oe)&&i(P,oe,null,F[oe],A,k);"value"in F&&i(P,"value",null,F.value,A),(O=F.onVnodeBeforeMount)&&lt(O,k,f)}V&&qt(f,null,k,"beforeMount");const X=Nh(E,M);X&&M.beforeEnter(P),s(P,g,m),((O=F&&F.onVnodeMounted)||X||V)&&Ue(()=>{O&&lt(O,k,f),X&&M.enter(P),V&&qt(f,null,k,"mounted")},E)},q=(f,g,m,k,E)=>{if(m&&p(f,m),k)for(let A=0;A<k.length;A++)p(f,k[A]);if(E){let A=E.subTree;if(g===A||Nl(A.type)&&(A.ssContent===g||A.ssFallback===g)){const $=E.vnode;q(f,$,$.scopeId,$.slotScopeIds,E.parent)}}},B=(f,g,m,k,E,A,$,I,P=0)=>{for(let O=P;O<f.length;O++){const F=f[O]=I?$t(f[O]):ht(f[O]);b(null,F,g,m,k,E,A,$,I)}},N=(f,g,m,k,E,A,$)=>{const I=g.el=f.el;let{patchFlag:P,dynamicChildren:O,dirs:F}=g;P|=f.patchFlag&16;const j=f.props||ie,M=g.props||ie;let V;if(m&&Wt(m,!1),(V=M.onVnodeBeforeUpdate)&&lt(V,m,g,f),F&&qt(g,f,m,"beforeUpdate"),m&&Wt(m,!0),(j.innerHTML&&M.innerHTML==null||j.textContent&&M.textContent==null)&&c(I,""),O?ee(f.dynamicChildren,O,I,m,k,Rn(g,E),A):$||Q(f,g,I,null,m,k,Rn(g,E),A,!1),P>0){if(P&16)be(I,j,M,m,E);else if(P&2&&j.class!==M.class&&i(I,"class",null,M.class,E),P&4&&i(I,"style",j.style,M.style,E),P&8){const X=g.dynamicProps;for(let oe=0;oe<X.length;oe++){const re=X[oe],Be=j[re],Te=M[re];(Te!==Be||re==="value")&&i(I,re,Be,Te,E,m)}}P&1&&f.children!==g.children&&c(I,g.children)}else!$&&O==null&&be(I,j,M,m,E);((V=M.onVnodeUpdated)||F)&&Ue(()=>{V&&lt(V,m,g,f),F&&qt(g,f,m,"updated")},k)},ee=(f,g,m,k,E,A,$)=>{for(let I=0;I<g.length;I++){const P=f[I],O=g[I],F=P.el&&(P.type===tt||!Lr(P,O)||P.shapeFlag&70)?h(P.el):m;b(P,O,F,null,k,E,A,$,!0)}},be=(f,g,m,k,E)=>{if(g!==m){if(g!==ie)for(const A in g)!Hr(A)&&!(A in m)&&i(f,A,g[A],null,E,k);for(const A in m){if(Hr(A))continue;const $=m[A],I=g[A];$!==I&&A!=="value"&&i(f,A,I,$,E,k)}"value"in m&&i(f,"value",g.value,m.value,E)}},Me=(f,g,m,k,E,A,$,I,P)=>{const O=g.el=f?f.el:a(""),F=g.anchor=f?f.anchor:a("");let{patchFlag:j,dynamicChildren:M,slotScopeIds:V}=g;V&&(I=I?I.concat(V):V),f==null?(s(O,m,k),s(F,m,k),B(g.children||[],m,F,E,A,$,I,P)):j>0&&j&64&&M&&f.dynamicChildren?(ee(f.dynamicChildren,M,m,E,A,$,I),(g.key!=null||E&&g===E.subTree)&&Vi(f,g,!0)):Q(f,g,m,F,E,A,$,I,P)},De=(f,g,m,k,E,A,$,I,P)=>{g.slotScopeIds=I,f==null?g.shapeFlag&512?E.ctx.activate(g,m,k,$,P):zt(g,m,k,E,A,$,P):kt(f,g,P)},zt=(f,g,m,k,E,A,$)=>{const I=f.component=nd(f,k,E);if(yl(f)&&(I.ctx.renderer=U),od(I,!1,$),I.asyncDep){if(E&&E.registerDep(I,he,$),!f.el){const P=I.subTree=_e(sr);_(null,P,g,m)}}else he(I,f,g,m,E,A,$)},kt=(f,g,m)=>{const k=g.component=f.component;if(Kh(f,g,m))if(k.asyncDep&&!k.asyncResolved){W(k,g,m);return}else k.next=g,k.update();else g.el=f.el,k.vnode=g},he=(f,g,m,k,E,A,$)=>{const I=()=>{if(f.isMounted){let{next:j,bu:M,u:V,parent:X,vnode:oe}=f;{const Fe=jl(f);if(Fe){j&&(j.el=oe.el,W(f,j,$)),Fe.asyncDep.then(()=>{f.isUnmounted||I()});return}}let re=j,Be;Wt(f,!1),j?(j.el=oe.el,W(f,j,$)):j=oe,M&&Ps(M),(Be=j.props&&j.props.onVnodeBeforeUpdate)&&lt(Be,X,j,oe),Wt(f,!0);const Te=On(f),Ze=f.subTree;f.subTree=Te,b(Ze,Te,h(Ze.el),S(Ze),f,E,A),j.el=Te.el,re===null&&Gh(f,Te.el),V&&Ue(V,E),(Be=j.props&&j.props.onVnodeUpdated)&&Ue(()=>lt(Be,X,j,oe),E)}else{let j;const{el:M,props:V}=g,{bm:X,m:oe,parent:re,root:Be,type:Te}=f,Ze=Wr(g);if(Wt(f,!1),X&&Ps(X),!Ze&&(j=V&&V.onVnodeBeforeMount)&&lt(j,re,g),Wt(f,!0),M&&de){const Fe=()=>{f.subTree=On(f),de(M,f.subTree,f,E,null)};Ze&&Te.__asyncHydrate?Te.__asyncHydrate(M,f,Fe):Fe()}else{Be.ce&&Be.ce._injectChildStyle(Te);const Fe=f.subTree=On(f);b(null,Fe,m,k,f,E,A),g.el=Fe.el}if(oe&&Ue(oe,E),!Ze&&(j=V&&V.onVnodeMounted)){const Fe=g;Ue(()=>lt(j,re,Fe),E)}(g.shapeFlag&256||re&&Wr(re.vnode)&&re.vnode.shapeFlag&256)&&f.a&&Ue(f.a,E),f.isMounted=!0,g=m=k=null}};f.scope.on();const P=f.effect=new Ka(I);f.scope.off();const O=f.update=P.run.bind(P),F=f.job=P.runIfDirty.bind(P);F.i=f,F.id=f.uid,P.scheduler=()=>Ni(F),Wt(f,!0),O()},W=(f,g,m)=>{g.component=f;const k=f.vnode.props;f.vnode=g,f.next=null,Ph(f,g.props,k,m),jh(f,g.children,m),Ht(),uo(f),Vt()},Q=(f,g,m,k,E,A,$,I,P=!1)=>{const O=f&&f.children,F=f?f.shapeFlag:0,j=g.children,{patchFlag:M,shapeFlag:V}=g;if(M>0){if(M&128){At(O,j,m,k,E,A,$,I,P);return}else if(M&256){mt(O,j,m,k,E,A,$,I,P);return}}V&8?(F&16&&Ke(O,E,A),j!==O&&c(m,j)):F&16?V&16?At(O,j,m,k,E,A,$,I,P):Ke(O,E,A,!0):(F&8&&c(m,""),V&16&&B(j,m,k,E,A,$,I,P))},mt=(f,g,m,k,E,A,$,I,P)=>{f=f||yr,g=g||yr;const O=f.length,F=g.length,j=Math.min(O,F);let M;for(M=0;M<j;M++){const V=g[M]=P?$t(g[M]):ht(g[M]);b(f[M],V,m,null,E,A,$,I,P)}O>F?Ke(f,E,A,!0,!1,j):B(g,m,k,E,A,$,I,P,j)},At=(f,g,m,k,E,A,$,I,P)=>{let O=0;const F=g.length;let j=f.length-1,M=F-1;for(;O<=j&&O<=M;){const V=f[O],X=g[O]=P?$t(g[O]):ht(g[O]);if(Lr(V,X))b(V,X,m,null,E,A,$,I,P);else break;O++}for(;O<=j&&O<=M;){const V=f[j],X=g[M]=P?$t(g[M]):ht(g[M]);if(Lr(V,X))b(V,X,m,null,E,A,$,I,P);else break;j--,M--}if(O>j){if(O<=M){const V=M+1,X=V<F?g[V].el:k;for(;O<=M;)b(null,g[O]=P?$t(g[O]):ht(g[O]),m,X,E,A,$,I,P),O++}}else if(O>M)for(;O<=j;)je(f[O],E,A,!0),O++;else{const V=O,X=O,oe=new Map;for(O=X;O<=M;O++){const He=g[O]=P?$t(g[O]):ht(g[O]);He.key!=null&&oe.set(He.key,O)}let re,Be=0;const Te=M-X+1;let Ze=!1,Fe=0;const Dr=new Array(Te);for(O=0;O<Te;O++)Dr[O]=0;for(O=V;O<=j;O++){const He=f[O];if(Be>=Te){je(He,E,A,!0);continue}let at;if(He.key!=null)at=oe.get(He.key);else for(re=X;re<=M;re++)if(Dr[re-X]===0&&Lr(He,g[re])){at=re;break}at===void 0?je(He,E,A,!0):(Dr[at-X]=O+1,at>=Fe?Fe=at:Ze=!0,b(He,g[at],m,null,E,A,$,I,P),Be++)}const no=Ze?Mh(Dr):yr;for(re=no.length-1,O=Te-1;O>=0;O--){const He=X+O,at=g[He],io=He+1<F?g[He+1].el:k;Dr[O]===0?b(null,at,m,io,E,A,$,I,P):Ze&&(re<0||O!==no[re]?ot(at,m,io,2):re--)}}},ot=(f,g,m,k,E=null)=>{const{el:A,type:$,transition:I,children:P,shapeFlag:O}=f;if(O&6){ot(f.component.subTree,g,m,k);return}if(O&128){f.suspense.move(g,m,k);return}if(O&64){$.move(f,g,m,U);return}if($===tt){s(A,g,m);for(let j=0;j<P.length;j++)ot(P[j],g,m,k);s(f.anchor,g,m);return}if($===Ds){T(f,g,m);return}if(k!==2&&O&1&&I)if(k===0)I.beforeEnter(A),s(A,g,m),Ue(()=>I.enter(A),E);else{const{leave:j,delayLeave:M,afterLeave:V}=I,X=()=>s(A,g,m),oe=()=>{j(A,()=>{X(),V&&V()})};M?M(A,X,oe):oe()}else s(A,g,m)},je=(f,g,m,k=!1,E=!1)=>{const{type:A,props:$,ref:I,children:P,dynamicChildren:O,shapeFlag:F,patchFlag:j,dirs:M,cacheIndex:V}=f;if(j===-2&&(E=!1),I!=null&&Qn(I,null,m,f,!0),V!=null&&(g.renderCache[V]=void 0),F&256){g.ctx.deactivate(f);return}const X=F&1&&M,oe=!Wr(f);let re;if(oe&&(re=$&&$.onVnodeBeforeUnmount)&&lt(re,g,f),F&6)ys(f.component,m,k);else{if(F&128){f.suspense.unmount(m,k);return}X&&qt(f,null,g,"beforeUnmount"),F&64?f.type.remove(f,g,m,U,k):O&&!O.hasOnce&&(A!==tt||j>0&&j&64)?Ke(O,g,m,!1,!0):(A===tt&&j&384||!E&&F&16)&&Ke(P,g,m),k&&cr(f)}(oe&&(re=$&&$.onVnodeUnmounted)||X)&&Ue(()=>{re&&lt(re,g,f),X&&qt(f,null,g,"unmounted")},m)},cr=f=>{const{type:g,el:m,anchor:k,transition:E}=f;if(g===tt){ur(m,k);return}if(g===Ds){y(f);return}const A=()=>{n(m),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(f.shapeFlag&1&&E&&!E.persisted){const{leave:$,delayLeave:I}=E,P=()=>$(m,A);I?I(f.el,A,P):P()}else A()},ur=(f,g)=>{let m;for(;f!==g;)m=d(f),n(f),f=m;n(g)},ys=(f,g,m)=>{const{bum:k,scope:E,job:A,subTree:$,um:I,m:P,a:O}=f;bo(P),bo(O),k&&Ps(k),E.stop(),A&&(A.flags|=8,je($,f,g,m)),I&&Ue(I,g),Ue(()=>{f.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Ke=(f,g,m,k=!1,E=!1,A=0)=>{for(let $=A;$<f.length;$++)je(f[$],g,m,k,E)},S=f=>{if(f.shapeFlag&6)return S(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const g=d(f.anchor||f.el),m=g&&g[ml];return m?d(m):g};let L=!1;const D=(f,g,m)=>{f==null?g._vnode&&je(g._vnode,null,null,!0):b(g._vnode||null,f,g,null,null,null,m),g._vnode=f,L||(L=!0,uo(),fl(),L=!1)},U={p:b,um:je,m:ot,r:cr,mt:zt,mc:B,pc:Q,pbc:ee,n:S,o:t};let te,de;return{render:D,hydrate:te,createApp:Rh(D,te)}}function Rn({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Wt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Nh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Vi(t,e,r=!1){const s=t.children,n=e.children;if(H(s)&&H(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=$t(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Vi(o,a)),a.type===un&&(a.el=o.el)}}function Mh(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(n=r[r.length-1],t[n]<u){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<u?i=a+1:o=a;u<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function jl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jl(e)}function bo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Bh=Symbol.for("v-scx"),Fh=()=>nt(Bh);function Wy(t,e){return zi(t,null,e)}function Sr(t,e,r){return zi(t,e,r)}function zi(t,e,r=ie){const{immediate:s,deep:n,flush:i,once:o}=r,a=Se({},r),l=e&&s||!e&&i!=="post";let u;if(as){if(i==="sync"){const p=Fh();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ft,p.resume=ft,p.pause=ft,p}}const c=Ee;a.call=(p,v,b)=>gt(p,c,v,b);let h=!1;i==="post"?a.scheduler=p=>{Ue(p,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,v)=>{v?p():Ni(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=Qu(t,e,a);return as&&(u?u.push(d):l&&d()),d}function Hh(t,e,r){const s=this.proxy,n=ye(t)?t.includes(".")?Ll(s,t):()=>s[t]:t.bind(s,s);let i;z(e)?i=e:(i=e.handler,r=e);const o=ms(this),a=zi(n,i.bind(s),r);return o(),a}function Ll(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const Vh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ye(e)}Modifiers`]||t[`${ir(e)}Modifiers`];function zh(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||ie;let n=r;const i=e.startsWith("update:"),o=i&&Vh(s,e.slice(7));o&&(o.trim&&(n=r.map(c=>ye(c)?c.trim():c)),o.number&&(n=r.map(Us)));let a,l=s[a=En(e)]||s[a=En(Ye(e))];!l&&i&&(l=s[a=En(ir(e))]),l&&gt(l,t,6,n);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gt(u,t,6,n)}}function Ul(t,e,r=!1){const s=e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!z(t)){const l=u=>{const c=Ul(u,e,!0);c&&(a=!0,Se(o,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ce(t)&&s.set(t,null),null):(H(i)?i.forEach(l=>o[l]=null):Se(o,i),ce(t)&&s.set(t,o),o)}function cn(t,e){return!t||!Qs(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,ir(e))||Z(t,e))}function On(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:p,ctx:v,inheritAttrs:b}=t,w=Fs(t);let _,R;try{if(r.shapeFlag&4){const y=n||s,C=y;_=ht(u.call(C,y,c,h,p,d,v)),R=a}else{const y=e;_=ht(y.length>1?y(h,{attrs:a,slots:o,emit:l}):y(h,null)),R=e.props?a:qh(a)}}catch(y){Gr.length=0,on(y,t,1),_=_e(sr)}let T=_;if(R&&b!==!1){const y=Object.keys(R),{shapeFlag:C}=T;y.length&&C&7&&(i&&y.some(ki)&&(R=Wh(R,i)),T=kr(T,R,!1,!0))}return r.dirs&&(T=kr(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&Bi(T,r.transition),_=T,Fs(w),_}const qh=t=>{let e;for(const r in t)(r==="class"||r==="style"||Qs(r))&&((e||(e={}))[r]=t[r]);return e},Wh=(t,e)=>{const r={};for(const s in t)(!ki(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function Kh(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?wo(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==s[d]&&!cn(u,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?wo(s,o,u):!0:!!o;return!1}function wo(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!cn(r,i))return!0}return!1}function Gh({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const Nl=t=>t.__isSuspense;function Jh(t,e){e&&e.pendingBranch?H(t)?e.effects.push(...t):e.effects.push(t):th(t)}const tt=Symbol.for("v-fgt"),un=Symbol.for("v-txt"),sr=Symbol.for("v-cmt"),Ds=Symbol.for("v-stc"),Gr=[];let qe=null;function fe(t=!1){Gr.push(qe=t?null:[])}function Xh(){Gr.pop(),qe=Gr[Gr.length-1]||null}let is=1;function Eo(t){is+=t,t<0&&qe&&(qe.hasOnce=!0)}function Ml(t){return t.dynamicChildren=is>0?qe||yr:null,Xh(),is>0&&qe&&qe.push(t),t}function pe(t,e,r,s,n,i){return Ml(x(t,e,r,s,n,i,!0))}function Yh(t,e,r,s,n){return Ml(_e(t,e,r,s,n,!0))}function Vs(t){return t?t.__v_isVNode===!0:!1}function Lr(t,e){return t.type===e.type&&t.key===e.key}const Bl=({key:t})=>t??null,js=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ye(t)||ve(t)||z(t)?{i:$e,r:t,k:e,f:!!r}:t:null);function x(t,e=null,r=null,s=0,n=null,i=t===tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Bl(e),ref:e&&js(e),scopeId:gl,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$e};return a?(qi(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=ye(r)?8:16),is>0&&!o&&qe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&qe.push(l),l}const _e=Qh;function Qh(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===vh)&&(t=sr),Vs(t)){const a=kr(t,e,!0);return r&&qi(a,r),is>0&&!i&&qe&&(a.shapeFlag&6?qe[qe.indexOf(t)]=a:qe.push(a)),a.patchFlag=-2,a}if(hd(t)&&(t=t.__vccOpts),e){e=Zh(e);let{class:a,style:l}=e;a&&!ye(a)&&(e.class=rt(a)),ce(l)&&(Li(l)&&!H(l)&&(l=Se({},l)),e.style=Oi(l))}const o=ye(t)?1:Nl(t)?128:rh(t)?64:ce(t)?4:z(t)?2:0;return x(t,e,r,s,n,o,i,!0)}function Zh(t){return t?Li(t)||Rl(t)?Se({},t):t:null}function kr(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?td(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Bl(u),ref:e&&e.ref?r&&i?H(i)?i.concat(js(e)):[i,js(e)]:js(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kr(t.ssContent),ssFallback:t.ssFallback&&kr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Bi(c,l.clone(c)),c}function os(t=" ",e=0){return _e(un,null,t,e)}function ed(t,e){const r=_e(Ds,null,t);return r.staticCount=e,r}function St(t="",e=!1){return e?(fe(),Yh(sr,null,t)):_e(sr,null,t)}function ht(t){return t==null||typeof t=="boolean"?_e(sr):H(t)?_e(tt,null,t.slice()):Vs(t)?$t(t):_e(un,null,String(t))}function $t(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:kr(t)}function qi(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(H(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),qi(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!Rl(e)?e._ctx=$e:n===3&&$e&&($e.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else z(e)?(e={default:e,_ctx:$e},r=32):(e=String(e),s&64?(r=16,e=[os(e)]):r=8);t.children=e,t.shapeFlag|=r}function td(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=rt([e.class,s.class]));else if(n==="style")e.style=Oi([e.style,s.style]);else if(Qs(n)){const i=e[n],o=s[n];o&&i!==o&&!(H(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function lt(t,e,r,s=null){gt(t,e,7,[r,s])}const rd=Tl();let sd=0;function nd(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||rd,i={uid:sd++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new za(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cl(s,n),emitsOptions:Ul(s,n),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:s.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=zh.bind(null,i),t.ce&&t.ce(i),i}let Ee=null;const id=()=>Ee||$e;let zs,si;{const t=rn(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};zs=e("__VUE_INSTANCE_SETTERS__",r=>Ee=r),si=e("__VUE_SSR_SETTERS__",r=>as=r)}const ms=t=>{const e=Ee;return zs(t),t.scope.on(),()=>{t.scope.off(),zs(e)}},So=()=>{Ee&&Ee.scope.off(),zs(null)};function Fl(t){return t.vnode.shapeFlag&4}let as=!1;function od(t,e=!1,r=!1){e&&si(e);const{props:s,children:n}=t.vnode,i=Fl(t);Ch(t,s,i,e),Dh(t,n,r);const o=i?ad(t,e):void 0;return e&&si(!1),o}function ad(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wh);const{setup:s}=r;if(s){Ht();const n=t.setupContext=s.length>1?cd(t):null,i=ms(t),o=gs(s,t,0,[t.props,n]),a=Ua(o);if(Vt(),i(),(a||t.sp)&&!Wr(t)&&vl(t),a){if(o.then(So,So),e)return o.then(l=>{xo(t,l,e)}).catch(l=>{on(l,t,0)});t.asyncDep=o}else xo(t,o,e)}else Hl(t,e)}function xo(t,e,r){z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=ul(e)),Hl(t,r)}let To;function Hl(t,e,r){const s=t.type;if(!t.render){if(!e&&To&&!s.render){const n=s.template||Fi(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,u=Se(Se({isCustomElement:i,delimiters:a},o),l);s.render=To(n,u)}}t.render=s.render||ft}{const n=ms(t);Ht();try{Eh(t)}finally{Vt(),n()}}}const ld={get(t,e){return ke(t,"get",""),t[e]}};function cd(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,ld),slots:t.slots,emit:t.emit,expose:e}}function hn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ul(Ui(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Kr)return Kr[r](t)},has(e,r){return r in e||r in Kr}})):t.proxy}function ud(t,e=!0){return z(t)?t.displayName||t.name:t.name||e&&t.__name}function hd(t){return z(t)&&"__vccOpts"in t}const Ie=(t,e)=>Xu(t,e,as);function Vl(t,e,r){const s=arguments.length;return s===2?ce(e)&&!H(e)?Vs(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Vs(r)&&(r=[r]),_e(t,e,r))}const dd="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ni;const ko=typeof window<"u"&&window.trustedTypes;if(ko)try{ni=ko.createPolicy("vue",{createHTML:t=>t})}catch{}const zl=ni?t=>ni.createHTML(t):t=>t,fd="http://www.w3.org/2000/svg",pd="http://www.w3.org/1998/Math/MathML",yt=typeof document<"u"?document:null,Ao=yt&&yt.createElement("template"),gd={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?yt.createElementNS(fd,t):e==="mathml"?yt.createElementNS(pd,t):r?yt.createElement(t,{is:r}):yt.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>yt.createTextNode(t),createComment:t=>yt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{Ao.innerHTML=zl(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Ao.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},md=Symbol("_vtc");function _d(t,e,r){const s=t[md];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ro=Symbol("_vod"),vd=Symbol("_vsh"),yd=Symbol(""),bd=/(^|;)\s*display\s*:/;function wd(t,e,r){const s=t.style,n=ye(r);let i=!1;if(r&&!n){if(e)if(ye(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Ls(s,a,"")}else for(const o in e)r[o]==null&&Ls(s,o,"");for(const o in r)o==="display"&&(i=!0),Ls(s,o,r[o])}else if(n){if(e!==r){const o=s[yd];o&&(r+=";"+o),s.cssText=r,i=bd.test(r)}}else e&&t.removeAttribute("style");Ro in t&&(t[Ro]=i?s.display:"",t[vd]&&(s.display="none"))}const Oo=/\s*!important$/;function Ls(t,e,r){if(H(r))r.forEach(s=>Ls(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Ed(t,e);Oo.test(r)?t.setProperty(ir(s),r.replace(Oo,""),"important"):t[s]=r}}const Co=["Webkit","Moz","ms"],Cn={};function Ed(t,e){const r=Cn[e];if(r)return r;let s=Ye(e);if(s!=="filter"&&s in t)return Cn[e]=s;s=tn(s);for(let n=0;n<Co.length;n++){const i=Co[n]+s;if(i in t)return Cn[e]=i}return e}const Po="http://www.w3.org/1999/xlink";function Io(t,e,r,s,n,i=bu(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Po,e.slice(6,e.length)):t.setAttributeNS(Po,e,r):r==null||i&&!Fa(r)?t.removeAttribute(e):t.setAttribute(e,i?"":pt(r)?String(r):r)}function $o(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?zl(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Fa(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function Yt(t,e,r,s){t.addEventListener(e,r,s)}function Sd(t,e,r,s){t.removeEventListener(e,r,s)}const Do=Symbol("_vei");function xd(t,e,r,s,n=null){const i=t[Do]||(t[Do]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Td(e);if(s){const u=i[e]=Rd(s,n);Yt(t,a,u,l)}else o&&(Sd(t,a,o,l),i[e]=void 0)}}const jo=/(?:Once|Passive|Capture)$/;function Td(t){let e;if(jo.test(t)){e={};let s;for(;s=t.match(jo);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ir(t.slice(2)),e]}let Pn=0;const kd=Promise.resolve(),Ad=()=>Pn||(kd.then(()=>Pn=0),Pn=Date.now());function Rd(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;gt(Od(s,r.value),e,5,[s])};return r.value=t,r.attached=Ad(),r}function Od(t,e){if(H(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Lo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Cd=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?_d(t,s,o):e==="style"?wd(t,r,s):Qs(e)?ki(e)||xd(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Pd(t,e,s,o))?($o(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Io(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ye(s))?$o(t,Ye(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Io(t,e,s,o))};function Pd(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Lo(e)&&z(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Lo(e)&&ye(r)?!1:e in t}const qs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return H(e)?r=>Ps(e,r):e};function Id(t){t.target.composing=!0}function Uo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xr=Symbol("_assign"),Ge={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[xr]=qs(n);const i=s||n.props&&n.props.type==="number";Yt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=Us(a)),t[xr](a)}),r&&Yt(t,"change",()=>{t.value=t.value.trim()}),e||(Yt(t,"compositionstart",Id),Yt(t,"compositionend",Uo),Yt(t,"change",Uo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[xr]=qs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Us(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},$d={deep:!0,created(t,{value:e,modifiers:{number:r}},s){const n=Zs(e);Yt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?Us(Ws(o)):Ws(o));t[xr](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,an(()=>{t._assigning=!1})}),t[xr]=qs(s)},mounted(t,{value:e}){No(t,e)},beforeUpdate(t,e,r){t[xr]=qs(r)},updated(t,{value:e}){t._assigning||No(t,e)}};function No(t,e){const r=t.multiple,s=H(e);if(!(r&&!s&&!Zs(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Ws(o);if(r)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Eu(e,a)>-1}else o.selected=e.has(a);else if(sn(Ws(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ws(t){return"_value"in t?t._value:t.value}const Dd=["ctrl","shift","alt","meta"],jd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Dd.some(r=>t[`${r}Key`]&&!e.includes(r))},Ks=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=jd[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Ld=Se({patchProp:Cd},gd);let Mo;function Ud(){return Mo||(Mo=Lh(Ld))}const Ky=(...t)=>{const e=Ud().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=Md(s);if(!n)return;const i=e._component;!z(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,Nd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Nd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Md(t){return ye(t)?document.querySelector(t):t}var Bd=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ql;const dn=t=>ql=t,Wl=Symbol();function ii(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Jr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Jr||(Jr={}));function Gy(){const t=qa(!0),e=t.run(()=>xe({}));let r=[],s=[];const n=Ui({install(i){dn(n),n._a=i,i.provide(Wl,n),i.config.globalProperties.$pinia=n,s.forEach(o=>r.push(o)),s=[]},use(i){return!this._a&&!Bd?s.push(i):r.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const Kl=()=>{};function Bo(t,e,r,s=Kl){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!r&&Wa()&&Su(n),n}function dr(t,...e){t.slice().forEach(r=>{r(...e)})}const Fd=t=>t(),Fo=Symbol(),In=Symbol();function oi(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,s)=>t.set(s,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r],n=t[r];ii(n)&&ii(s)&&t.hasOwnProperty(r)&&!ve(s)&&!Mt(s)?t[r]=oi(n,s):t[r]=s}return t}const Hd=Symbol();function Vd(t){return!ii(t)||!t.hasOwnProperty(Hd)}const{assign:Ot}=Object;function zd(t){return!!(ve(t)&&t.effect)}function qd(t,e,r,s){const{state:n,actions:i,getters:o}=e,a=r.state.value[t];let l;function u(){a||(r.state.value[t]=n?n():{});const c=Wu(r.state.value[t]);return Ot(c,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Ui(Ie(()=>{dn(r);const p=r._s.get(t);return o[d].call(p,p)})),h),{}))}return l=Gl(t,u,e,r,s,!0),l}function Gl(t,e,r={},s,n,i){let o;const a=Ot({actions:{}},r),l={deep:!0};let u,c,h=[],d=[],p;const v=s.state.value[t];!i&&!v&&(s.state.value[t]={}),xe({});let b;function w(B){let N;u=c=!1,typeof B=="function"?(B(s.state.value[t]),N={type:Jr.patchFunction,storeId:t,events:p}):(oi(s.state.value[t],B),N={type:Jr.patchObject,payload:B,storeId:t,events:p});const ee=b=Symbol();an().then(()=>{b===ee&&(u=!0)}),c=!0,dr(h,N,s.state.value[t])}const _=i?function(){const{state:N}=r,ee=N?N():{};this.$patch(be=>{Ot(be,ee)})}:Kl;function R(){o.stop(),h=[],d=[],s._s.delete(t)}const T=(B,N="")=>{if(Fo in B)return B[In]=N,B;const ee=function(){dn(s);const be=Array.from(arguments),Me=[],De=[];function zt(W){Me.push(W)}function kt(W){De.push(W)}dr(d,{args:be,name:ee[In],store:C,after:zt,onError:kt});let he;try{he=B.apply(this&&this.$id===t?this:C,be)}catch(W){throw dr(De,W),W}return he instanceof Promise?he.then(W=>(dr(Me,W),W)).catch(W=>(dr(De,W),Promise.reject(W))):(dr(Me,he),he)};return ee[Fo]=!0,ee[In]=N,ee},y={_p:s,$id:t,$onAction:Bo.bind(null,d),$patch:w,$reset:_,$subscribe(B,N={}){const ee=Bo(h,B,N.detached,()=>be()),be=o.run(()=>Sr(()=>s.state.value[t],Me=>{(N.flush==="sync"?c:u)&&B({storeId:t,type:Jr.direct,events:p},Me)},Ot({},l,N)));return ee},$dispose:R},C=ps(y);s._s.set(t,C);const q=(s._a&&s._a.runWithContext||Fd)(()=>s._e.run(()=>(o=qa()).run(()=>e({action:T}))));for(const B in q){const N=q[B];if(ve(N)&&!zd(N)||Mt(N))i||(v&&Vd(N)&&(ve(N)?N.value=v[B]:oi(N,v[B])),s.state.value[t][B]=N);else if(typeof N=="function"){const ee=T(N,B);q[B]=ee,a.actions[B]=N}}return Ot(C,q),Ot(Y(C),q),Object.defineProperty(C,"$state",{get:()=>s.state.value[t],set:B=>{w(N=>{Ot(N,B)})}}),s._p.forEach(B=>{Ot(C,o.run(()=>B({store:C,app:s._a,pinia:s,options:a})))}),v&&i&&r.hydrate&&r.hydrate(C.$state,v),u=!0,c=!0,C}/*! #__NO_SIDE_EFFECTS__ */function Wd(t,e,r){let s,n;const i=typeof e=="function";s=t,n=i?r:e;function o(a,l){const u=Oh();return a=a||(u?nt(Wl,null):null),a&&dn(a),a=ql,a._s.has(s)||(i?Gl(s,e,n,a):qd(s,n,a)),a._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _r=typeof document<"u";function Jl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Kd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Jl(t.default)}const se=Object.assign;function $n(t,e){const r={};for(const s in e){const n=e[s];r[s]=it(n)?n.map(t):t(n)}return r}const Xr=()=>{},it=Array.isArray,Xl=/#/g,Gd=/&/g,Jd=/\//g,Xd=/=/g,Yd=/\?/g,Yl=/\+/g,Qd=/%5B/g,Zd=/%5D/g,Ql=/%5E/g,ef=/%60/g,Zl=/%7B/g,tf=/%7C/g,ec=/%7D/g,rf=/%20/g;function Wi(t){return encodeURI(""+t).replace(tf,"|").replace(Qd,"[").replace(Zd,"]")}function sf(t){return Wi(t).replace(Zl,"{").replace(ec,"}").replace(Ql,"^")}function ai(t){return Wi(t).replace(Yl,"%2B").replace(rf,"+").replace(Xl,"%23").replace(Gd,"%26").replace(ef,"`").replace(Zl,"{").replace(ec,"}").replace(Ql,"^")}function nf(t){return ai(t).replace(Xd,"%3D")}function of(t){return Wi(t).replace(Xl,"%23").replace(Yd,"%3F")}function af(t){return t==null?"":of(t).replace(Jd,"%2F")}function ls(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const lf=/\/$/,cf=t=>t.replace(lf,"");function Dn(t,e,r="/"){let s,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=ff(s??e,r),{fullPath:s+(i&&"?")+i+o,path:s,query:n,hash:ls(o)}}function uf(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Ho(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function hf(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&Ar(e.matched[s],r.matched[n])&&tc(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ar(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function tc(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!df(t[r],e[r]))return!1;return!0}function df(t,e){return it(t)?Vo(t,e):it(e)?Vo(e,t):t===e}function Vo(t,e){return it(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function ff(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Rt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var cs;(function(t){t.pop="pop",t.push="push"})(cs||(cs={}));var Yr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Yr||(Yr={}));function pf(t){if(!t)if(_r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cf(t)}const gf=/^[^#]+#/;function mf(t,e){return t.replace(gf,"#")+e}function _f(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const fn=()=>({left:window.scrollX,top:window.scrollY});function vf(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=_f(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zo(t,e){return(history.state?history.state.position-e:-1)+t}const li=new Map;function yf(t,e){li.set(t,e)}function bf(t){const e=li.get(t);return li.delete(t),e}let wf=()=>location.protocol+"//"+location.host;function rc(t,e){const{pathname:r,search:s,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Ho(l,"")}return Ho(r,t)+s+n}function Ef(t,e,r,s){let n=[],i=[],o=null;const a=({state:d})=>{const p=rc(t,location),v=r.value,b=e.value;let w=0;if(d){if(r.value=p,e.value=d,o&&o===v){o=null;return}w=b?d.position-b.position:0}else s(p);n.forEach(_=>{_(r.value,v,{delta:w,type:cs.pop,direction:w?w>0?Yr.forward:Yr.back:Yr.unknown})})};function l(){o=r.value}function u(d){n.push(d);const p=()=>{const v=n.indexOf(d);v>-1&&n.splice(v,1)};return i.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(se({},d.state,{scroll:fn()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function qo(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?fn():null}}function Sf(t){const{history:e,location:r}=window,s={value:rc(t,r)},n={value:e.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:wf()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),n.value=u}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function o(l,u){const c=se({},e.state,qo(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),s.value=l}function a(l,u){const c=se({},n.value,e.state,{forward:l,scroll:fn()});i(c.current,c,!0);const h=se({},qo(s.value,l,null),{position:c.position+1},u);i(l,h,!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function Jy(t){t=pf(t);const e=Sf(t),r=Ef(t,e.state,e.location,e.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=se({location:"",base:t,go:s,createHref:mf.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function xf(t){return typeof t=="string"||t&&typeof t=="object"}function sc(t){return typeof t=="string"||typeof t=="symbol"}const nc=Symbol("");var Wo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Wo||(Wo={}));function Rr(t,e){return se(new Error,{type:t,[nc]:!0},e)}function vt(t,e){return t instanceof Error&&nc in t&&(e==null||!!(t.type&e))}const Ko="[^/]+?",Tf={sensitive:!1,strict:!1,start:!0,end:!0},kf=/[.+*?^${}()[\]/\\]/g;function Af(t,e){const r=se({},Tf,e),s=[];let n=r.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const d=u[h];let p=40+(r.sensitive?.25:0);if(d.type===0)h||(n+="/"),n+=d.value.replace(kf,"\\$&"),p+=40;else if(d.type===1){const{value:v,repeatable:b,optional:w,regexp:_}=d;i.push({name:v,repeatable:b,optional:w});const R=_||Ko;if(R!==Ko){p+=10;try{new RegExp(`(${R})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${v}" (${R}): `+y.message)}}let T=b?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(T=w&&u.length<2?`(?:/${T})`:"/"+T),w&&(T+="?"),n+=T,p+=20,w&&(p+=-8),b&&(p+=-20),R===".*"&&(p+=-50)}c.push(p)}s.push(c)}if(r.strict&&r.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",v=i[d-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const d of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:v,repeatable:b,optional:w}=p,_=v in u?u[v]:"";if(it(_)&&!b)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const R=it(_)?_.join("/"):_;if(!R)if(w)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);c+=R}}return c||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Rf(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ic(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const i=Rf(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(Go(s))return 1;if(Go(n))return-1}return n.length-s.length}function Go(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Of={type:0,value:""},Cf=/[a-zA-Z0-9_]/;function Pf(t){if(!t)return[[]];if(t==="/")return[[Of]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${r})/"${u}": ${p}`)}let r=0,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(r===0?i.push({type:0,value:u}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),r=1):d();break;case 4:d(),r=s;break;case 1:l==="("?r=2:Cf.test(l)?d():(h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function If(t,e,r){const s=Af(Pf(t.path),r),n=se(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function $f(t,e){const r=[],s=new Map;e=Qo({strict:!1,end:!0,sensitive:!1},e);function n(h){return s.get(h)}function i(h,d,p){const v=!p,b=Xo(h);b.aliasOf=p&&p.record;const w=Qo(e,h),_=[b];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const C of y)_.push(Xo(se({},b,{components:p?p.record.components:b.components,path:C,aliasOf:p?p.record:b})))}let R,T;for(const y of _){const{path:C}=y;if(d&&C[0]!=="/"){const G=d.record.path,q=G[G.length-1]==="/"?"":"/";y.path=d.record.path+(C&&q+C)}if(R=If(y,d,w),p?p.alias.push(R):(T=T||R,T!==R&&T.alias.push(R),v&&h.name&&!Yo(R)&&o(h.name)),oc(R)&&l(R),b.children){const G=b.children;for(let q=0;q<G.length;q++)i(G[q],R,p&&p.children[q])}p=p||R}return T?()=>{o(T)}:Xr}function o(h){if(sc(h)){const d=s.get(h);d&&(s.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=Lf(h,r);r.splice(d,0,h),h.record.name&&!Yo(h)&&s.set(h.record.name,h)}function u(h,d){let p,v={},b,w;if("name"in h&&h.name){if(p=s.get(h.name),!p)throw Rr(1,{location:h});w=p.record.name,v=se(Jo(d.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&Jo(h.params,p.keys.map(T=>T.name))),b=p.stringify(v)}else if(h.path!=null)b=h.path,p=r.find(T=>T.re.test(b)),p&&(v=p.parse(b),w=p.record.name);else{if(p=d.name?s.get(d.name):r.find(T=>T.re.test(d.path)),!p)throw Rr(1,{location:h,currentLocation:d});w=p.record.name,v=se({},d.params,h.params),b=p.stringify(v)}const _=[];let R=p;for(;R;)_.unshift(R.record),R=R.parent;return{name:w,path:b,params:v,matched:_,meta:jf(_)}}t.forEach(h=>i(h));function c(){r.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Jo(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function Xo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Df(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Df(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function Yo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jf(t){return t.reduce((e,r)=>se(e,r.meta),{})}function Qo(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}function Lf(t,e){let r=0,s=e.length;for(;r!==s;){const i=r+s>>1;ic(t,e[i])<0?s=i:r=i+1}const n=Uf(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function Uf(t){let e=t;for(;e=e.parent;)if(oc(e)&&ic(t,e)===0)return e}function oc({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Nf(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const i=s[n].replace(Yl," "),o=i.indexOf("="),a=ls(o<0?i:i.slice(0,o)),l=o<0?null:ls(i.slice(o+1));if(a in e){let u=e[a];it(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Zo(t){let e="";for(let r in t){const s=t[r];if(r=nf(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(it(s)?s.map(i=>i&&ai(i)):[s&&ai(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function Mf(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=it(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const Bf=Symbol(""),ea=Symbol(""),pn=Symbol(""),ac=Symbol(""),ci=Symbol("");function Ur(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Dt(t,e,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(Rr(4,{from:r,to:e})):d instanceof Error?l(d):xf(d)?l(Rr(2,{from:e,to:d})):(o&&s.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(s&&s.instances[n],e,r,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function jn(t,e,r,s,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Jl(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Dt(c,r,s,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Kd(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Dt(p,r,s,o,a,n)()}))}}return i}function ta(t){const e=nt(pn),r=nt(ac),s=Ie(()=>{const l=wr(t.to);return e.resolve(l)}),n=Ie(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],h=r.matched;if(!c||!h.length)return-1;const d=h.findIndex(Ar.bind(null,c));if(d>-1)return d;const p=ra(l[u-2]);return u>1&&ra(c)===p&&h[h.length-1].path!==p?h.findIndex(Ar.bind(null,l[u-2])):d}),i=Ie(()=>n.value>-1&&zf(r.params,s.value.params)),o=Ie(()=>n.value>-1&&n.value===r.matched.length-1&&tc(r.params,s.value.params));function a(l={}){return Vf(l)?e[wr(t.replace)?"replace":"push"](wr(t.to)).catch(Xr):Promise.resolve()}return{route:s,href:Ie(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const Ff=or({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ta,setup(t,{slots:e}){const r=ps(ta(t)),{options:s}=nt(pn),n=Ie(()=>({[sa(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[sa(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&e.default(r);return t.custom?i:Vl("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Hf=Ff;function Vf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zf(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!it(n)||n.length!==s.length||s.some((i,o)=>i!==n[o]))return!1}return!0}function ra(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sa=(t,e,r)=>t??e??r,qf=or({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=nt(ci),n=Ie(()=>t.route||s.value),i=nt(ea,0),o=Ie(()=>{let u=wr(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Ie(()=>n.value.matched[o.value]);$s(ea,Ie(()=>o.value+1)),$s(Bf,a),$s(ci,n);const l=xe();return Sr(()=>[l.value,a.value,t.name],([u,c,h],[d,p,v])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Ar(c,p)||!d)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,d=h&&h.components[c];if(!d)return na(r.default,{Component:d,route:u});const p=h.props[c],v=p?p===!0?u.params:typeof p=="function"?p(u):p:null,w=Vl(d,se({},v,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return na(r.default,{Component:w,route:u})||w}}});function na(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Wf=qf;function Xy(t){const e=$f(t.routes,t),r=t.parseQuery||Nf,s=t.stringifyQuery||Zo,n=t.history,i=Ur(),o=Ur(),a=Ur(),l=Vu(Rt);let u=Rt;_r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=$n.bind(null,S=>""+S),h=$n.bind(null,af),d=$n.bind(null,ls);function p(S,L){let D,U;return sc(S)?(D=e.getRecordMatcher(S),U=L):U=S,e.addRoute(U,D)}function v(S){const L=e.getRecordMatcher(S);L&&e.removeRoute(L)}function b(){return e.getRoutes().map(S=>S.record)}function w(S){return!!e.getRecordMatcher(S)}function _(S,L){if(L=se({},L||l.value),typeof S=="string"){const g=Dn(r,S,L.path),m=e.resolve({path:g.path},L),k=n.createHref(g.fullPath);return se(g,m,{params:d(m.params),hash:ls(g.hash),redirectedFrom:void 0,href:k})}let D;if(S.path!=null)D=se({},S,{path:Dn(r,S.path,L.path).path});else{const g=se({},S.params);for(const m in g)g[m]==null&&delete g[m];D=se({},S,{params:h(g)}),L.params=h(L.params)}const U=e.resolve(D,L),te=S.hash||"";U.params=c(d(U.params));const de=uf(s,se({},S,{hash:sf(te),path:U.path})),f=n.createHref(de);return se({fullPath:de,hash:te,query:s===Zo?Mf(S.query):S.query||{}},U,{redirectedFrom:void 0,href:f})}function R(S){return typeof S=="string"?Dn(r,S,l.value.path):se({},S)}function T(S,L){if(u!==S)return Rr(8,{from:L,to:S})}function y(S){return q(S)}function C(S){return y(se(R(S),{replace:!0}))}function G(S){const L=S.matched[S.matched.length-1];if(L&&L.redirect){const{redirect:D}=L;let U=typeof D=="function"?D(S):D;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=R(U):{path:U},U.params={}),se({query:S.query,hash:S.hash,params:U.path!=null?{}:S.params},U)}}function q(S,L){const D=u=_(S),U=l.value,te=S.state,de=S.force,f=S.replace===!0,g=G(D);if(g)return q(se(R(g),{state:typeof g=="object"?se({},te,g.state):te,force:de,replace:f}),L||D);const m=D;m.redirectedFrom=L;let k;return!de&&hf(s,U,D)&&(k=Rr(16,{to:m,from:U}),ot(U,U,!0,!1)),(k?Promise.resolve(k):ee(m,U)).catch(E=>vt(E)?vt(E,2)?E:At(E):Q(E,m,U)).then(E=>{if(E){if(vt(E,2))return q(se({replace:f},R(E.to),{state:typeof E.to=="object"?se({},te,E.to.state):te,force:de}),L||m)}else E=Me(m,U,!0,f,te);return be(m,U,E),E})}function B(S,L){const D=T(S,L);return D?Promise.reject(D):Promise.resolve()}function N(S){const L=ur.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(S):S()}function ee(S,L){let D;const[U,te,de]=Kf(S,L);D=jn(U.reverse(),"beforeRouteLeave",S,L);for(const g of U)g.leaveGuards.forEach(m=>{D.push(Dt(m,S,L))});const f=B.bind(null,S,L);return D.push(f),Ke(D).then(()=>{D=[];for(const g of i.list())D.push(Dt(g,S,L));return D.push(f),Ke(D)}).then(()=>{D=jn(te,"beforeRouteUpdate",S,L);for(const g of te)g.updateGuards.forEach(m=>{D.push(Dt(m,S,L))});return D.push(f),Ke(D)}).then(()=>{D=[];for(const g of de)if(g.beforeEnter)if(it(g.beforeEnter))for(const m of g.beforeEnter)D.push(Dt(m,S,L));else D.push(Dt(g.beforeEnter,S,L));return D.push(f),Ke(D)}).then(()=>(S.matched.forEach(g=>g.enterCallbacks={}),D=jn(de,"beforeRouteEnter",S,L,N),D.push(f),Ke(D))).then(()=>{D=[];for(const g of o.list())D.push(Dt(g,S,L));return D.push(f),Ke(D)}).catch(g=>vt(g,8)?g:Promise.reject(g))}function be(S,L,D){a.list().forEach(U=>N(()=>U(S,L,D)))}function Me(S,L,D,U,te){const de=T(S,L);if(de)return de;const f=L===Rt,g=_r?history.state:{};D&&(U||f?n.replace(S.fullPath,se({scroll:f&&g&&g.scroll},te)):n.push(S.fullPath,te)),l.value=S,ot(S,L,D,f),At()}let De;function zt(){De||(De=n.listen((S,L,D)=>{if(!ys.listening)return;const U=_(S),te=G(U);if(te){q(se(te,{replace:!0}),U).catch(Xr);return}u=U;const de=l.value;_r&&yf(zo(de.fullPath,D.delta),fn()),ee(U,de).catch(f=>vt(f,12)?f:vt(f,2)?(q(f.to,U).then(g=>{vt(g,20)&&!D.delta&&D.type===cs.pop&&n.go(-1,!1)}).catch(Xr),Promise.reject()):(D.delta&&n.go(-D.delta,!1),Q(f,U,de))).then(f=>{f=f||Me(U,de,!1),f&&(D.delta&&!vt(f,8)?n.go(-D.delta,!1):D.type===cs.pop&&vt(f,20)&&n.go(-1,!1)),be(U,de,f)}).catch(Xr)}))}let kt=Ur(),he=Ur(),W;function Q(S,L,D){At(S);const U=he.list();return U.length?U.forEach(te=>te(S,L,D)):console.error(S),Promise.reject(S)}function mt(){return W&&l.value!==Rt?Promise.resolve():new Promise((S,L)=>{kt.add([S,L])})}function At(S){return W||(W=!S,zt(),kt.list().forEach(([L,D])=>S?D(S):L()),kt.reset()),S}function ot(S,L,D,U){const{scrollBehavior:te}=t;if(!_r||!te)return Promise.resolve();const de=!D&&bf(zo(S.fullPath,0))||(U||!D)&&history.state&&history.state.scroll||null;return an().then(()=>te(S,L,de)).then(f=>f&&vf(f)).catch(f=>Q(f,S,L))}const je=S=>n.go(S);let cr;const ur=new Set,ys={currentRoute:l,listening:!0,addRoute:p,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:b,resolve:_,options:t,push:y,replace:C,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:he.add,isReady:mt,install(S){const L=this;S.component("RouterLink",Hf),S.component("RouterView",Wf),S.config.globalProperties.$router=L,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>wr(l)}),_r&&!cr&&l.value===Rt&&(cr=!0,y(n.location).catch(te=>{}));const D={};for(const te in Rt)Object.defineProperty(D,te,{get:()=>l.value[te],enumerable:!0});S.provide(pn,L),S.provide(ac,al(D)),S.provide(ci,l);const U=S.unmount;ur.add(S),S.unmount=function(){ur.delete(S),ur.size<1&&(u=Rt,De&&De(),De=null,l.value=Rt,cr=!1,W=!1),U()}}};function Ke(S){return S.reduce((L,D)=>L.then(()=>N(D)),Promise.resolve())}return ys}function Kf(t,e){const r=[],s=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ar(u,a))?s.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ar(u,l))||n.push(l))}return[r,s,n]}function lc(){return nt(pn)}const Gf="modulepreload",Jf=function(t){return"/"+t},ia={},Or=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=Jf(l),l in ia)return;ia[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Gf,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Xf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Or(async()=>{const{default:s}=await Promise.resolve().then(()=>Pr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Ki extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Yf extends Ki{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qf extends Ki{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zf extends Ki{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ui;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ui||(ui={}));var ep=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class tp{constructor(e,{headers:r={},customFetch:s,region:n=ui.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Xf(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return ep(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(v=>{throw new Yf(v)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Qf(c);if(!c.ok)throw new Zf(c);let d=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield c.json():d==="application/octet-stream"?p=yield c.blob():d==="text/event-stream"?p=c:d==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var Ne={},Gi={},gn={},_s={},mn={},_n={},sp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cr=sp();const np=Cr.fetch,cc=Cr.fetch.bind(Cr),uc=Cr.Headers,ip=Cr.Request,op=Cr.Response,Pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:uc,Request:ip,Response:op,default:cc,fetch:np},Symbol.toStringTag,{value:"Module"})),ap=rp(Pr);var vn={};Object.defineProperty(vn,"__esModule",{value:!0});let lp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vn.default=lp;var hc=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_n,"__esModule",{value:!0});const cp=hc(ap),up=hc(vn);let hp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=cp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,d=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,d=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(c=[],u=null,d=200,p="OK")}catch{i.status===404&&b===""?(d=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,d=200,p="OK"),u&&this.shouldThrowOnError)throw new up.default(u)}return{error:u,data:c,count:h,status:d,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}returns(){return this}overrideTypes(){return this}};_n.default=hp;var dp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});const fp=dp(_n);let pp=class extends fp.default{select(e){let r=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mn.default=pp;var gp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_s,"__esModule",{value:!0});const mp=gp(mn);let _p=class extends mp.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}};_s.default=_p;var vp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gn,"__esModule",{value:!0});const Nr=vp(_s);let yp=class{constructor(e,{headers:r={},schema:s,fetch:n}){this.url=e,this.headers=r,this.schema=s,this.fetch=n}select(e,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Nr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Nr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};gn.default=yp;var yn={},bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.version=void 0;bn.version="0.0.0-automated";Object.defineProperty(yn,"__esModule",{value:!0});yn.DEFAULT_HEADERS=void 0;const bp=bn;yn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bp.version}`};var dc=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});const wp=dc(gn),Ep=dc(_s),Sp=yn;let xp=class fc{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Sp.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new wp.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||n?(o=s?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ep.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Gi.default=xp;var Ir=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const pc=Ir(Gi);Ne.PostgrestClient=pc.default;const gc=Ir(gn);Ne.PostgrestQueryBuilder=gc.default;const mc=Ir(_s);Ne.PostgrestFilterBuilder=mc.default;const _c=Ir(mn);Ne.PostgrestTransformBuilder=_c.default;const vc=Ir(_n);Ne.PostgrestBuilder=vc.default;const yc=Ir(vn);Ne.PostgrestError=yc.default;var Tp=Ne.default={PostgrestClient:pc.default,PostgrestQueryBuilder:gc.default,PostgrestFilterBuilder:mc.default,PostgrestTransformBuilder:_c.default,PostgrestBuilder:vc.default,PostgrestError:yc.default};const{PostgrestClient:kp,PostgrestQueryBuilder:sb,PostgrestFilterBuilder:nb,PostgrestTransformBuilder:ib,PostgrestBuilder:ob,PostgrestError:ab}=Tp,Ap="2.11.2",Rp={"X-Client-Info":`realtime-js/${Ap}`},Op="1.0.0",bc=1e4,Cp=1e3;var Tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tr||(Tr={}));var Ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ve||(Ve={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var hi;(function(t){t.websocket="websocket"})(hi||(hi={}));var Qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qt||(Qt={}));class Pp{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class wc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const oa=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ip(o,t,e,n),i),{})},Ip=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?Ec(i,o):di(o)},Ec=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Lp(e,r)}switch(t){case ae.bool:return $p(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Dp(e);case ae.json:case ae.jsonb:return jp(e);case ae.timestamp:return Up(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return di(e);default:return di(e)}},di=t=>t,$p=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lp=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ec(e,a))}return t},Up=t=>typeof t=="string"?t.replace(" ","T"):t,Sc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ln{constructor(e,r,s={},n=bc){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var aa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(aa||(aa={}));class Qr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Qr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Qr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),v=c.filter(w=>p.indexOf(w.presence_ref)<0),b=h.filter(w=>d.indexOf(w.presence_ref)<0);v.length>0&&(a[u]=v),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(p=>p.presence_ref),d=c.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...d)}s(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var la;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(la||(la={}));var ca;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ca||(ca={}));var bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class Ji{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ln(this,et.join,this.params,this.timeout),this.rejoinTimer=new wc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Qr(this),this.broadcastEndpointURL=Sc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(bt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(bt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(bt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,p=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,v=[];for(let b=0;b<p;b++){const w=d[b],{filter:{event:_,schema:R,table:T,filter:y}}=w,C=c&&c[b];if(C&&C.event===_&&C.schema===R&&C.table===T&&C.filter===y)v.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),e==null||e(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(bt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new Ln(this,et.leave,{},e);n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ln(this,e,r,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=et;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var v,b,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,b,w,_,R,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const y=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return y&&((b=r.ids)===null||b===void 0?void 0:b.includes(y))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const y=(R=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return y==="*"||y===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:b,table:w,commit_timestamp:_,type:R,errors:T}=v;d=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:_,eventType:R,new:{},old:{},errors:T}),this._getPayloadRecords(v))}p.callback(d,s)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ji.isEqual(n.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=oa(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=oa(e.columns,e.old_record)),r}}const Np=()=>{},Mp=typeof WebSocket<"u",Bp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fp{constructor(e,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Rp,this.params={},this.timeout=bc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new Pp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Or(async()=>{const{default:l}=await Promise.resolve().then(()=>Pr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${hi.websocket}`,this.httpEndpoint=Sc(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Mp){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Hp(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Or(async()=>{const{default:e}=await import("./browser-C7mm6yPC.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Op}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Tr.connecting:return Qt.Connecting;case Tr.open:return Qt.Open;case Tr.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}channel(e,r={config:{}}){const s=new Ji(`realtime:${e}`,r,this);return this.channels.push(s),s}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r}),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Cp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:s,event:n,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Bp],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class Hp{constructor(e,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}let Xi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vp extends Xi{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fi extends Xi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var zp=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const xc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Or(async()=>{const{default:s}=await Promise.resolve().then(()=>Pr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},qp=()=>zp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Or(()=>Promise.resolve().then(()=>Pr),void 0)).Response:Response}),pi=t=>{if(Array.isArray(t))return t.map(r=>pi(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=pi(s)}),e};var ar=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wp=(t,e,r)=>ar(void 0,void 0,void 0,function*(){const s=yield qp();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{e(new Vp(Un(n),t.status||500))}).catch(n=>{e(new fi(Un(n),n))}):e(new fi(Un(t),t))}),Kp=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),r))};function vs(t,e,r,s,n,i){return ar(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Kp(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Wp(l,a,s))})})}function Gs(t,e,r,s){return ar(this,void 0,void 0,function*(){return vs(t,"GET",e,r,s)})}function jt(t,e,r,s,n){return ar(this,void 0,void 0,function*(){return vs(t,"POST",e,s,n,r)})}function Gp(t,e,r,s,n){return ar(this,void 0,void 0,function*(){return vs(t,"PUT",e,s,n,r)})}function Jp(t,e,r,s){return ar(this,void 0,void 0,function*(){return vs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Tc(t,e,r,s,n){return ar(this,void 0,void 0,function*(){return vs(t,"DELETE",e,s,n,r)})}var Le=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Xp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ua={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yp{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=xc(n)}uploadOrUpdate(e,r,s,n){return Le(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ua),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(we(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return Le(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:ua.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(we(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}update(e,r,s){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Le(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}copy(e,r,s){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return Le(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield jt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return Le(this,void 0,void 0,function*(){try{const n=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}download(e,r){return Le(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Gs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}})}info(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Gs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pi(s),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}exists(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Jp(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(we(s)&&s instanceof fi){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}list(e,r,s){return Le(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Xp),r),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Qp="2.7.1",Zp={"X-Client-Info":`storage-js/${Qp}`};var fr=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class eg{constructor(e,r={},s){this.url=e,this.headers=Object.assign(Object.assign({},Zp),r),this.fetch=xc(s)}listBuckets(){return fr(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}getBucket(e){return fr(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return fr(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return fr(this,void 0,void 0,function*(){try{return{data:yield Gp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}emptyBucket(e){return fr(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}deleteBucket(e){return fr(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}}class tg extends eg{constructor(e,r={},s){super(e,r,s)}from(e){return new Yp(this.url,this.headers,e,this.fetch)}}const rg="2.49.1";let Fr="";typeof Deno<"u"?Fr="deno":typeof document<"u"?Fr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fr="react-native":Fr="node";const sg={"X-Client-Info":`supabase-js-${Fr}/${rg}`},ng={headers:sg},ig={schema:"public"},og={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ag={};var lg=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const cg=t=>{let e;return t?e=t:typeof fetch>"u"?e=cc:e=fetch,(...r)=>e(...r)},ug=()=>typeof Headers>"u"?uc:Headers,hg=(t,e,r)=>{const s=cg(r),n=ug();return(i,o)=>lg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var dg=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function fg(t){return t.replace(/\/$/,"")}function pg(t,e){const{db:r,auth:s,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>dg(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const kc="2.68.0",vr=30*1e3,gi=3,Nn=gi*vr,gg="http://localhost:9999",mg="supabase.auth.token",_g={"X-Client-Info":`gotrue-js/${kc}`},mi="X-Supabase-Api-Version",Ac={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function vg(t){return Math.round(Date.now()/1e3)+t}function yg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Zr=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function bg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Rc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Or(async()=>{const{default:s}=await Promise.resolve().then(()=>Pr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},wg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},xs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ts=async(t,e)=>{await t.removeItem(e)};function Eg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",s,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),s=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,r=r+String.fromCharCode(s),l!=64&&n!=0&&(r=r+String.fromCharCode(n)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}let Cc=class Pc{constructor(){this.promise=new Pc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};Cc.promiseConstructor=Promise;function ha(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=r[1];return JSON.parse(Eg(s))}async function Sg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xg(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Tg(t){return("0"+t.toString(16)).substr(-2)}function kg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Tg).join("")}async function Ag(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Rg(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Og(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ag(t);return Rg(r)}async function pr(t,e,r=!1){const s=kg();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Oc(t,`${e}-code-verifier`,n);const i=await Og(s);return[i,s===i?"plain":"s256"]}const Cg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pg(t){const e=t.headers.get(mi);if(!e||!e.match(Cg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Yi extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ig extends Yi{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function $g(t){return K(t)&&t.name==="AuthApiError"}class Ic extends Yi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class lr extends Yi{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Ct extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dg(t){return K(t)&&t.name==="AuthSessionMissingError"}class Mn extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends lr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class As extends lr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class da extends lr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _i extends lr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Bn(t){return K(t)&&t.name==="AuthRetryableFetchError"}class fa extends lr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}var Lg=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ug=[502,503,504];async function pa(t){var e;if(!wg(t))throw new _i(Jt(t),0);if(Ug.includes(t.status))throw new _i(Jt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ic(Jt(i),i)}let s;const n=Pg(t);if(n&&n.getTime()>=Ac["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new fa(Jt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fa(Jt(r),t.status,r.weak_password.reasons);throw new Ig(Jt(r),t.status||500,s)}const Ng=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function J(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[mi]||(i[mi]=Ac["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Mg(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Mg(t,e,r,s,n,i){const o=Ng(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new _i(Jt(l),0)}if(a.ok||await pa(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await pa(l)}}function Pt(t){var e;let r=null;Vg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=vg(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function ga(t){const e=Pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Bg(t){return{data:t,error:null}}function Fg(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=Lg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Hg(t){return t}function Vg(t){return t.access_token&&t.refresh_token&&t.expires_in}var zg=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class qg{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Rc(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=zg(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Fg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Hg});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Lt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:r,error:s}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}const Wg={getItem:t=>Zr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zr()&&globalThis.localStorage.removeItem(t)}};function ma(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Kg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gr={debug:!!(globalThis&&Zr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $c extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Gg extends $c{}async function Jg(t,e,r){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Gg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Kg();const Xg={url:gg,storageKey:mg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _a(t,e,r){return await r()}class us{constructor(e){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Xg),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new qg({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Rc(n.fetch),this.lock=n.lock||_a,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Jg:this.lock=_a,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Zr()?this.storage=Wg:(this.memoryStorage={},this.storage=ma(this.memoryStorage)):(this.memoryStorage={},this.storage=ma(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=bg(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ct()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new Ic("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await pr(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:v},xform:Pt})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Pt})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ga})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ga})}else throw new ks("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Mn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Pt});if(await Ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await pr(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ks("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pr(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Bg})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Ct;const{error:n}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ks("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Nn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(r){if(K(r))return Dg(r)&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ct;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await pr(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return ha(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const r=Date.now()/1e3;let s=r,n=!0,i=null;const o=ha(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ct())throw new As("No browser detected.");if(e.error||e.error_description||e.error_code)throw new As(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new da("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new da("No code detected.");const{data:R,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new As("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const p=d-c;p*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=d-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,c);const{data:b,error:w}=await this._getUser(i);if(w)throw w;const _={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!($g(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=yg(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await pr(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return ct()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(K(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await xg(async n=>(n>0&&await Sg(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Bn(i)&&Date.now()+o-s<vr})}catch(s){if(this._debug(r,"error",s),K(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),ct()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xs(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Nn;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${Nn}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Bn(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Cc;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return Bn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Oc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ts(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${vr}ms, refresh threshold is ${gi} ticks`),n<=gi&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $c)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await pr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}us.nextInstanceID=0;const Yg=us;class Qg extends Yg{constructor(e){super(e)}}var Zg=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class em{constructor(e,r,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=fg(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ig,realtime:ag,auth:Object.assign(Object.assign({},og),{storageKey:l}),global:ng},c=pg(s??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=hg(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new kp(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new tp(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tg(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Zg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qg({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Fp(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dc=(t,e,r)=>new em(t,e,r),jc="https://uhnuzglsovggmtspzgyt.supabase.co",Lc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVobnV6Z2xzb3ZnZ210c3B6Z3l0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMzNjU2NjEsImV4cCI6MjA1ODk0MTY2MX0.yy2jXCt-7ZWRGYjkpHYoagjxkNFrlhTL0XV6Ejb8kqI",ne=Dc(jc,Lc),tm=async()=>{try{await ne.auth.signOut();const t=Dc(jc,Lc),{data:e,error:r}=await t.auth.getSession();if(r)throw r;return console.log("Reconnexion Supabase russie"),t}catch(t){throw console.error("Erreur lors de la reconnexion Supabase:",t),t}},Uc=Wd("user",{state:()=>({user:null,loading:!1,error:null,initialized:!1,tokenBalance:0}),getters:{isAuthenticated:t=>!!t.user,isDriver:t=>{var r;const e=(r=t.user)==null?void 0:r.role;return e==="driver"||e==="double_role"}},actions:{async reconnect(){var t,e;if(!this.initialized){this.loading=!0;try{await tm();const{data:{session:r},error:s}=await ne.auth.getSession();if(s)throw s;if(r!=null&&r.user){const{data:n,error:i}=await ne.from("user_roles").select("roles(name)").eq("user_id",r.user.id).maybeSingle();i&&console.error("Erreur lors de la rcupration du rle:",i);const{data:o,error:a}=await ne.from("profiles").select("token_balance").eq("id",r.user.id).single();a&&console.error("Erreur lors de la rcupration du profil:",a);const l=n;this.setUser({id:r.user.id,email:r.user.email||"",name:((t=r.user.user_metadata)==null?void 0:t.name)||"",role:((e=l==null?void 0:l.roles)==null?void 0:e.name)||"walker",isVerified:r.user.email_confirmed_at!==null,documents:{status:"pending"}}),this.tokenBalance=(o==null?void 0:o.token_balance)||0,this.subscribeToProfile(r.user.id)}}catch(r){console.error("Erreur lors de la reconnexion:",r),this.error="Erreur lors de la reconnexion"}finally{this.loading=!1,this.initialized=!0}}},async updateTokenBalance(){var t;if((t=this.user)!=null&&t.id)try{const{data:e,error:r}=await ne.from("profiles").select("token_balance").eq("id",this.user.id).single();if(r)throw r;this.tokenBalance=e.token_balance}catch(e){console.error("Erreur lors de la mise  jour du solde de jetons:",e)}},subscribeToProfile(t){const e=ne.channel(`profile_changes_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${t}`},()=>{this.updateTokenBalance()}).subscribe();return()=>{e.unsubscribe()}},async loginUser(t,e){var r,s;this.loading=!0,this.error=null;try{const{data:n,error:i}=await ne.auth.signInWithPassword({email:t,password:e});if(i)throw i;if(!n.user)throw new Error("Utilisateur non trouv");const{data:o,error:a}=await ne.from("user_roles").select("roles(name)").eq("user_id",n.user.id).maybeSingle();if(a)throw console.error("Erreur lors de la rcupration du rle:",a),a;const{data:l,error:u}=await ne.from("profiles").select("token_balance").eq("id",n.user.id).single();u&&console.error("Erreur lors de la rcupration du profil:",u);const c=o;return this.setUser({id:n.user.id,email:n.user.email||"",name:((r=n.user.user_metadata)==null?void 0:r.name)||"",role:((s=c==null?void 0:c.roles)==null?void 0:s.name)||"walker",isVerified:n.user.email_confirmed_at!==null,documents:{status:"pending"}}),this.tokenBalance=(l==null?void 0:l.token_balance)||0,this.subscribeToProfile(n.user.id),!0}catch(n){throw this.error=n.message,n}finally{this.loading=!1}},async registerUser(t,e,r,s){var n,i;this.loading=!0,this.error=null;try{const{data:o,error:a}=await ne.auth.signUp({email:t,password:e,options:{data:{name:r,role:s}}});if(a)throw a;if(!o.user)throw new Error("Erreur lors de la cration du compte");const{data:l,error:u}=await ne.from("roles").select("id").eq("name","walker").single();if(u)throw u;const{error:c}=await ne.from("user_roles").insert([{user_id:o.user.id,role_id:l.id}]);if(c)throw c;return this.setUser({id:o.user.id,email:o.user.email||"",name:((n=o.user.user_metadata)==null?void 0:n.name)||"",role:((i=o.user.user_metadata)==null?void 0:i.role)||"walker",isVerified:o.user.email_confirmed_at!==null,documents:{status:"pending"}}),this.tokenBalance=0,this.subscribeToProfile(o.user.id),!0}catch(o){throw this.error=o.message,o}finally{this.loading=!1}},async updateProfile(t){var e;this.loading=!0,this.error=null;try{if(!((e=this.user)!=null&&e.id))throw new Error("Utilisateur non connect");const{error:r}=await ne.auth.updateUser({data:{name:t.name,role:t.role}});if(r)throw r;if(t.role&&t.role!==this.user.role){const{data:s,error:n}=await ne.from("roles").select("id").eq("name",t.role).single();if(n)throw n;const{error:i}=await ne.from("user_roles").upsert({user_id:this.user.id,role_id:s.id},{onConflict:"user_id"});if(i)throw i}return this.setUser({...this.user,...t}),!0}catch(r){throw this.error=r.message,r}finally{this.loading=!1}},async logout(){try{const{error:t}=await ne.auth.signOut();if(t)throw t;return this.setUser(null),this.tokenBalance=0,!0}catch(t){throw this.error=t.message,t}},setUser(t){this.user=t}}}),rm={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},sm={class:"max-w-md w-full space-y-8"},nm={key:0,class:"bg-green-50 border-l-4 border-green-400 p-4"},im={key:1,class:"bg-red-50 border-l-4 border-red-400 p-4"},om={class:"flex"},am={class:"ml-3"},lm={class:"text-sm text-red-700"},cm={class:"rounded-md shadow-sm -space-y-px"},um=["disabled"],hm=["disabled"],dm={class:"flex items-center justify-between"},fm={class:"text-sm"},pm=["disabled"],gm={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},mm={class:"text-center"},cb=or({__name:"Login",setup(t){const e=lc(),r=Uc(),s=xe(""),n=xe(""),i=xe(!1),o=xe(""),a=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),l=async()=>{try{if(o.value="",i.value=!0,!s.value||!n.value){o.value="Veuillez remplir tous les champs";return}if(!a(s.value)){o.value="Veuillez entrer une adresse email valide";return}await r.loginUser(s.value,n.value),e.push("/dashboard")}catch(c){c.message==="Invalid login credentials"?o.value="Email ou mot de passe incorrect":c.message.includes("Email not confirmed")?o.value="Veuillez confirmer votre email avant de vous connecter":o.value="Une erreur est survenue lors de la connexion"}finally{i.value=!1}},u=async()=>{if(!s.value){o.value="Veuillez entrer votre adresse email pour rinitialiser votre mot de passe";return}try{i.value=!0;const{error:c}=await ne.auth.resetPasswordForEmail(s.value);if(c)throw c;alert("Un email de rinitialisation de mot de passe vous a t envoy")}catch(c){console.error("Erreur lors de la rinitialisation du mot de passe:",c),o.value="Impossible d'envoyer l'email de rinitialisation"}finally{i.value=!1}};return(c,h)=>{const d=Sl("router-link");return fe(),pe("div",rm,[x("div",sm,[h[8]||(h[8]=x("div",null,[x("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Connexion  votre compte ")],-1)),c.$route.query.registered?(fe(),pe("div",nm,h[2]||(h[2]=[ed('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm text-green-700">Inscription russie ! Vous pouvez maintenant vous connecter.</p></div></div>',1)]))):St("",!0),o.value?(fe(),pe("div",im,[x("div",om,[h[3]||(h[3]=x("div",{class:"flex-shrink-0"},[x("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[x("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),x("div",am,[x("p",lm,Je(o.value),1)])])])):St("",!0),x("form",{class:"mt-8 space-y-6",onSubmit:Ks(l,["prevent"])},[x("div",cm,[x("div",null,[h[4]||(h[4]=x("label",{for:"email",class:"sr-only"},"Email",-1)),ze(x("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":h[0]||(h[0]=p=>s.value=p),required:"",disabled:i.value,class:rt(["appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-300":o.value}]),placeholder:"Adresse email"},null,10,um),[[Ge,s.value]])]),x("div",null,[h[5]||(h[5]=x("label",{for:"password",class:"sr-only"},"Mot de passe",-1)),ze(x("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":h[1]||(h[1]=p=>n.value=p),required:"",disabled:i.value,class:rt(["appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-300":o.value}]),placeholder:"Mot de passe"},null,10,hm),[[Ge,n.value]])])]),x("div",dm,[x("div",fm,[x("a",{href:"#",class:"font-medium text-blue-600 hover:text-blue-500",onClick:Ks(u,["prevent"])}," Mot de passe oubli ? ")])]),x("div",null,[x("button",{type:"submit",disabled:i.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[i.value?(fe(),pe("span",gm,h[6]||(h[6]=[x("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[x("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),x("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):St("",!0),os(" "+Je(i.value?"Connexion en cours...":"Se connecter"),1)],8,pm)])],32),x("div",mm,[_e(d,{to:"/register",class:rt(["text-blue-600 hover:text-blue-500",{"pointer-events-none opacity-50":i.value}])},{default:Mi(()=>h[7]||(h[7]=[os(" Pas encore de compte ? S'inscrire ")])),_:1},8,["class"])])])])}}}),_m={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},vm={class:"max-w-md w-full space-y-8"},ym={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4"},bm={class:"flex"},wm={class:"ml-3"},Em={class:"text-sm text-red-700"},Sm={class:"rounded-md shadow-sm space-y-3"},xm=["disabled"],Tm=["disabled"],km=["disabled"],Am=["disabled"],Rm={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},Om={class:"text-center"},ub=or({__name:"Register",setup(t){const e=lc(),r=xe(""),s=xe(""),n=xe(""),i=xe(!1),o=xe(""),a=u=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u),l=async()=>{try{if(o.value="",i.value=!0,!r.value||!s.value||!n.value){o.value="Veuillez remplir tous les champs",i.value=!1;return}if(!a(s.value)){o.value="Veuillez entrer une adresse email valide",i.value=!1;return}if(n.value.length<6){o.value="Le mot de passe doit contenir au moins 6 caractres",i.value=!1;return}const{data:u,error:c}=await ne.auth.signUp({email:s.value,password:n.value,options:{data:{name:r.value,role:"walker"}}});if(c){if(c.message==="User already registered"){o.value="Un compte existe dj avec cette adresse email. Veuillez vous connecter.";return}throw c}if(!u.user)throw new Error("Erreur lors de la cration du compte");const{data:h,error:d}=await ne.from("roles").select("id").eq("name","walker").single();if(d)throw d;const{error:p}=await ne.from("user_roles").insert([{user_id:u.user.id,role_id:h.id}]);if(p)throw p;e.push({path:"/login",query:{registered:"true"}})}catch(u){console.error("Erreur lors de l'inscription:",u),o.value="Une erreur est survenue lors de l'inscription. Veuillez ressayer."}finally{i.value=!1}};return(u,c)=>{const h=Sl("router-link");return fe(),pe("div",_m,[x("div",vm,[c[9]||(c[9]=x("div",null,[x("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Crer un compte ")],-1)),o.value?(fe(),pe("div",ym,[x("div",bm,[c[3]||(c[3]=x("div",{class:"flex-shrink-0"},[x("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[x("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),x("div",wm,[x("p",Em,Je(o.value),1)])])])):St("",!0),x("form",{class:"mt-8 space-y-6",onSubmit:Ks(l,["prevent"])},[x("div",Sm,[x("div",null,[c[4]||(c[4]=x("label",{for:"name",class:"sr-only"},"Nom complet",-1)),ze(x("input",{id:"name",name:"name",type:"text","onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),required:"",disabled:i.value,class:rt(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-300":o.value}]),placeholder:"Nom complet"},null,10,xm),[[Ge,r.value]])]),x("div",null,[c[5]||(c[5]=x("label",{for:"email",class:"sr-only"},"Email",-1)),ze(x("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d),required:"",disabled:i.value,class:rt(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-300":o.value}]),placeholder:"Adresse email"},null,10,Tm),[[Ge,s.value]])]),x("div",null,[c[6]||(c[6]=x("label",{for:"password",class:"sr-only"},"Mot de passe",-1)),ze(x("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":c[2]||(c[2]=d=>n.value=d),required:"",disabled:i.value,class:rt(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-300":o.value}]),placeholder:"Mot de passe"},null,10,km),[[Ge,n.value]])])]),x("div",null,[x("button",{type:"submit",disabled:i.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[i.value?(fe(),pe("span",Rm,c[7]||(c[7]=[x("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[x("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),x("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):St("",!0),os(" "+Je(i.value?"Inscription en cours...":"S'inscrire"),1)],8,Am)])],32),x("div",Om,[_e(h,{to:"/login",class:rt(["text-blue-600 hover:text-blue-500",{"pointer-events-none opacity-50":i.value}])},{default:Mi(()=>c[8]||(c[8]=[os(" Dj un compte ? Se connecter ")])),_:1},8,["class"])])])])}}}),Cm=or({__name:"DocumentStatus",props:{status:{}},setup(t){const e=t,r=Ie(()=>{switch(e.status){case"verified":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}}),s=Ie(()=>{switch(e.status){case"verified":return"Vrifi";case"rejected":return"Rejet";default:return"En attente"}});return(n,i)=>(fe(),pe("span",{class:rt(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.value])},Je(s.value),3))}}),Pm={class:"space-y-4"},Im={class:"flex items-center justify-between"},$m={class:"text-lg font-medium text-gray-900"},Dm={class:"border-2 border-dashed border-gray-300 rounded-lg p-6"},jm={key:0,class:"space-y-4"},Lm=["src","alt"],Um={class:"flex justify-between items-center"},Nm={class:"text-sm text-gray-500"},Mm={key:1,class:"text-center"},Bm={key:0,class:"text-sm text-red-600"},Rs=or({__name:"DocumentUpload",props:{title:{},document:{}},emits:["upload"],setup(t,{emit:e}){const r=e,s=i=>new Date(i).toLocaleDateString("fr-FR"),n=async()=>{try{const i=document.createElement("input");i.type="file",i.accept="image/jpeg,image/png",i.onchange=o=>{var l;const a=(l=o.target.files)==null?void 0:l[0];if(a){if(a.size>5*1024*1024){alert("Le fichier est trop volumineux. Maximum 5MB.");return}r("upload",a)}},i.click()}catch(i){console.error("Erreur lors du tlchargement:",i)}};return(i,o)=>{var a,l,u;return fe(),pe("div",Pm,[x("div",Im,[x("h3",$m,Je(i.title),1),_e(Cm,{status:(a=i.document)==null?void 0:a.verificationStatus},null,8,["status"])]),x("div",Dm,[(l=i.document)!=null&&l.url?(fe(),pe("div",jm,[x("img",{src:i.document.url,alt:i.title,class:"max-w-full h-auto rounded-lg"},null,8,Lm),x("div",Um,[x("span",Nm," Tlcharg le "+Je(s(i.document.uploadDate)),1),x("button",{onClick:n,class:"text-blue-600 hover:text-blue-700 text-sm"}," Remplacer ")])])):(fe(),pe("div",Mm,[x("div",{class:"space-y-2"},[o[0]||(o[0]=x("div",{class:"text-gray-500"},[x("i",{class:"text-3xl"},"")],-1)),o[1]||(o[1]=x("div",{class:"text-sm text-gray-500"}," Format JPG ou PNG, max 5MB ",-1)),x("button",{onClick:n,class:"mt-2 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Tlcharger le document ")])]))]),(u=i.document)!=null&&u.rejectionReason?(fe(),pe("p",Bm," Motif du rejet : "+Je(i.document.rejectionReason),1)):St("",!0)])}}});var va={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=n&63|128):(n&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=n&63|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=n&63|128)}return e},Fm=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const n=t[r++];if(n<128)e[s++]=String.fromCharCode(n);else if(n>191&&n<224){const i=t[r++];e[s++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=t[r++],o=t[r++],a=t[r++],l=((n&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],o=t[r++];e[s++]=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Mc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let n=0;n<t.length;n+=3){const i=t[n],o=n+1<t.length,a=o?t[n+1]:0,l=n+2<t.length,u=l?t[n+2]:0,c=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),s.push(r[c],r[h],r[d],r[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nc(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fm(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let n=0;n<t.length;){const i=r[t.charAt(n++)],a=n<t.length?r[t.charAt(n)]:0;++n;const u=n<t.length?r[t.charAt(n)]:64;++n;const h=n<t.length?r[t.charAt(n)]:64;if(++n,i==null||a==null||u==null||h==null)throw new Hm;const d=i<<2|a>>4;if(s.push(d),u!==64){const p=a<<4&240|u>>2;if(s.push(p),h!==64){const v=u<<6&192|h;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hm extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vm=function(t){const e=Nc(t);return Mc.encodeByteArray(e,!0)},Js=function(t){return Vm(t).replace(/\./g,"")},zm=function(t){try{return Mc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=()=>qm().__FIREBASE_DEFAULTS__,Km=()=>{if(typeof process>"u"||typeof va>"u")return;const t=va.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gm=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zm(t[1]);return e&&JSON.parse(e)},Bc=()=>{try{return Wm()||Km()||Gm()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jm=t=>{var e,r;return(r=(e=Bc())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Xm=t=>{const e=Jm(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Fc=()=>{var t;return(t=Bc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",n=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Js(JSON.stringify(r)),Js(JSON.stringify(o)),""].join(".")}function Zm(){try{return typeof indexedDB=="object"}catch{return!1}}function e_(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},n.onupgradeneeded=()=>{r=!1},n.onerror=()=>{var i;e(((i=n.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="FirebaseError";class $r extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=t_,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},n=`${this.service}/${e}`,i=this.errors[e],o=i?r_(i,s):"Error",a=`${this.serviceName}: ${o} (${n}).`;return new $r(n,a,s)}}function r_(t,e){return t.replace(s_,(r,s)=>{const n=e[s];return n!=null?String(n):`<${s}?>`})}const s_=/\{\$([^}]+)}/g;function vi(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const n of r){if(!s.includes(n))return!1;const i=t[n],o=e[n];if(ya(i)&&ya(o)){if(!vi(i,o))return!1}else if(i!==o)return!1}for(const n of s)if(!r.includes(n))return!1;return!0}function ya(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ym;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:r});n&&s.resolve(n)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o_(e))try{this.getOrInitializeService({instanceIdentifier:Xt})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:n});s.resolve(i)}catch{}}}}clearInstance(e=Xt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xt){return this.instances.has(e)}getOptions(e=Xt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(n)}return n}onInit(e,r){var s;const n=this.normalizeInstanceIdentifier(r),i=(s=this.onInitCallbacks.get(n))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const n of s)try{n(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i_(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xt){return this.component?this.component.multipleInstances?e:Xt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i_(t){return t===Xt?void 0:t}function o_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new n_(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const l_={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},c_=ue.INFO,u_={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},h_=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),n=u_[e];if(n)console[n](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=c_,this._logHandler=h_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const f_=(t,e)=>e.some(r=>t instanceof r);let ba,wa;function p_(){return ba||(ba=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g_(){return wa||(wa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vc=new WeakMap,yi=new WeakMap,zc=new WeakMap,Fn=new WeakMap,Qi=new WeakMap;function m_(t){const e=new Promise((r,s)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Bt(t.result)),n()},o=()=>{s(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Vc.set(r,t)}).catch(()=>{}),Qi.set(e,t),e}function __(t){if(yi.has(t))return;const e=new Promise((r,s)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),n()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yi.set(t,e)}let bi={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return yi.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zc.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Bt(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v_(t){bi=t(bi)}function y_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(Hn(this),e,...r);return zc.set(s,e.sort?e.sort():[e]),Bt(s)}:g_().includes(t)?function(...e){return t.apply(Hn(this),e),Bt(Vc.get(this))}:function(...e){return Bt(t.apply(Hn(this),e))}}function b_(t){return typeof t=="function"?y_(t):(t instanceof IDBTransaction&&__(t),f_(t,p_())?new Proxy(t,bi):t)}function Bt(t){if(t instanceof IDBRequest)return m_(t);if(Fn.has(t))return Fn.get(t);const e=b_(t);return e!==t&&(Fn.set(t,e),Qi.set(e,t)),e}const Hn=t=>Qi.get(t);function w_(t,e,{blocked:r,upgrade:s,blocking:n,terminated:i}={}){const o=indexedDB.open(t,e),a=Bt(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Bt(o.result),l.oldVersion,l.newVersion,Bt(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),n&&l.addEventListener("versionchange",u=>n(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const E_=["get","getKey","getAll","getAllKeys","count"],S_=["put","add","delete","clear"],Vn=new Map;function Ea(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vn.get(e))return Vn.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,n=S_.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(n||E_.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,n?"readwrite":"readonly");let u=l.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),n&&l.done]))[0]};return Vn.set(e,i),i}v_(t=>({...t,get:(e,r,s)=>Ea(e,r)||t.get(e,r,s),has:(e,r)=>!!Ea(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(T_(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function T_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wi="@firebase/app",Sa="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt=new d_("@firebase/app"),k_="@firebase/app-compat",A_="@firebase/analytics-compat",R_="@firebase/analytics",O_="@firebase/app-check-compat",C_="@firebase/app-check",P_="@firebase/auth",I_="@firebase/auth-compat",$_="@firebase/database",D_="@firebase/data-connect",j_="@firebase/database-compat",L_="@firebase/functions",U_="@firebase/functions-compat",N_="@firebase/installations",M_="@firebase/installations-compat",B_="@firebase/messaging",F_="@firebase/messaging-compat",H_="@firebase/performance",V_="@firebase/performance-compat",z_="@firebase/remote-config",q_="@firebase/remote-config-compat",W_="@firebase/storage",K_="@firebase/storage-compat",G_="@firebase/firestore",J_="@firebase/vertexai-preview",X_="@firebase/firestore-compat",Y_="firebase",Q_="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]",Z_={[wi]:"fire-core",[k_]:"fire-core-compat",[R_]:"fire-analytics",[A_]:"fire-analytics-compat",[C_]:"fire-app-check",[O_]:"fire-app-check-compat",[P_]:"fire-auth",[I_]:"fire-auth-compat",[$_]:"fire-rtdb",[D_]:"fire-data-connect",[j_]:"fire-rtdb-compat",[L_]:"fire-fn",[U_]:"fire-fn-compat",[N_]:"fire-iid",[M_]:"fire-iid-compat",[B_]:"fire-fcm",[F_]:"fire-fcm-compat",[H_]:"fire-perf",[V_]:"fire-perf-compat",[z_]:"fire-rc",[q_]:"fire-rc-compat",[W_]:"fire-gcs",[K_]:"fire-gcs-compat",[G_]:"fire-fst",[X_]:"fire-fst-compat",[J_]:"fire-vertex","fire-js":"fire-js",[Y_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Map,ev=new Map,Si=new Map;function xa(t,e){try{t.container.addComponent(e)}catch(r){xt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ys(t){const e=t.name;if(Si.has(e))return xt.debug(`There were multiple attempts to register component ${e}.`),!1;Si.set(e,t);for(const r of Xs.values())xa(r,t);for(const r of ev.values())xa(r,t);return!0}function tv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ft=new Hc("app","Firebase",rv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=Q_;function iv(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ei,automaticDataCollectionEnabled:!1},e),n=s.name;if(typeof n!="string"||!n)throw Ft.create("bad-app-name",{appName:String(n)});if(r||(r=Fc()),!r)throw Ft.create("no-options");const i=Xs.get(n);if(i){if(vi(r,i.options)&&vi(s,i.config))return i;throw Ft.create("duplicate-app",{appName:n})}const o=new a_(n);for(const l of Si.values())o.addComponent(l);const a=new sv(r,s,o);return Xs.set(n,a),a}function ov(t=Ei){const e=Xs.get(t);if(!e&&t===Ei&&Fc())return iv();if(!e)throw Ft.create("no-app",{appName:t});return e}function es(t,e,r){var s;let n=(s=Z_[t])!==null&&s!==void 0?s:t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xt.warn(a.join(" "));return}Ys(new hs(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="firebase-heartbeat-database",lv=1,ds="firebase-heartbeat-store";let zn=null;function qc(){return zn||(zn=w_(av,lv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ds)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ft.create("idb-open",{originalErrorMessage:t.message})})),zn}async function cv(t){try{const r=(await qc()).transaction(ds),s=await r.objectStore(ds).get(Wc(t));return await r.done,s}catch(e){if(e instanceof $r)xt.warn(e.message);else{const r=Ft.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xt.warn(r.message)}}}async function Ta(t,e){try{const s=(await qc()).transaction(ds,"readwrite");await s.objectStore(ds).put(e,Wc(t)),await s.done}catch(r){if(r instanceof $r)xt.warn(r.message);else{const s=Ft.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xt.warn(s.message)}}}function Wc(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=1024,hv=30*24*60*60*1e3;class dv{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new pv(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ka();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=hv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){xt.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ka(),{heartbeatsToSend:s,unsentEntries:n}=fv(this._heartbeatsCache.heartbeats),i=Js(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return xt.warn(r),""}}}function ka(){return new Date().toISOString().substring(0,10)}function fv(t,e=uv){const r=[];let s=t.slice();for(const n of t){const i=r.find(o=>o.agent===n.agent);if(i){if(i.dates.push(n.date),Aa(r)>e){i.dates.pop();break}}else if(r.push({agent:n.agent,dates:[n.date]}),Aa(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class pv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zm()?e_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await cv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ta(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ta(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Aa(t){return Js(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){Ys(new hs("platform-logger",e=>new x_(e),"PRIVATE")),Ys(new hs("heartbeat",e=>new dv(e),"PRIVATE")),es(wi,Sa,t),es(wi,Sa,"esm2017"),es("fire-js","")}gv("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="firebasestorage.googleapis.com",Gc="storageBucket",mv=2*60*1e3,_v=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me extends $r{constructor(e,r,s=0){super(qn(e),`Firebase Storage: ${r} (${qn(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qn(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ge;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ge||(ge={}));function qn(t){return"storage/"+t}function Zi(){const t="An unknown error occurred, please check the error payload for server response.";return new me(ge.UNKNOWN,t)}function vv(t){return new me(ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yv(t){return new me(ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bv(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new me(ge.UNAUTHENTICATED,t)}function wv(){return new me(ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ev(t){return new me(ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Sv(){return new me(ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xv(){return new me(ge.CANCELED,"User canceled the upload/download.")}function Tv(t){return new me(ge.INVALID_URL,"Invalid URL '"+t+"'.")}function kv(t){return new me(ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Av(){return new me(ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Gc+"' property when initializing the app?")}function Rv(){return new me(ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ov(){return new me(ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cv(t){return new me(ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xi(t){return new me(ge.INVALID_ARGUMENT,t)}function Jc(){return new me(ge.APP_DELETED,"The Firebase app was deleted.")}function Pv(t){return new me(ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ts(t,e){return new me(ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mr(t){throw new me(ge.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=We.makeFromUrl(e,r)}catch{return new We(e,"")}if(s.path==="")return s;throw kv(e)}static makeFromUrl(e,r){let s=null;const n="([A-Za-z0-9.\\-_]+)";function i(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+n+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${n}/o${d}`,"i"),v={bucket:1,path:3},b=r===Kc?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",_=new RegExp(`^https?://${b}/${n}/${w}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:p,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<T.length;y++){const C=T[y],G=C.regex.exec(e);if(G){const q=G[C.indices.bucket];let B=G[C.indices.path];B||(B=""),s=new We(q,B),C.postModify(s);break}}if(s==null)throw Tv(e);return s}}class Iv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e,r){let s=1,n=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function h(w){n=setTimeout(()=>{n=null,t(p,l())},w)}function d(){i&&clearTimeout(i)}function p(w,..._){if(u){d();return}if(w){d(),c.call(null,w,..._);return}if(l()||o){d(),c.call(null,w,..._);return}s<64&&(s*=2);let T;a===1?(a=2,T=0):T=(s+Math.random())*1e3,h(T)}let v=!1;function b(w){v||(v=!0,d(),!u&&(n!==null?(w||(a=2),clearTimeout(n),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,b(!0)},r),b}function Dv(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){return t!==void 0}function Lv(t){return typeof t=="object"&&!Array.isArray(t)}function eo(t){return typeof t=="string"||t instanceof String}function Ra(t){return to()&&t instanceof Blob}function to(){return typeof Blob<"u"}function Oa(t,e,r,s){if(s<e)throw xi(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>r)throw xi(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e,r){let s=e;return r==null&&(s=`https://${e}`),`${r}://${s}/v0${t}`}function Xc(t){const e=encodeURIComponent;let r="?";for(const s in t)if(t.hasOwnProperty(s)){const n=e(s)+"="+e(t[s]);r=r+n+"&"}return r=r.slice(0,-1),r}var tr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tr||(tr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){const r=t>=500&&t<600,n=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||n||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,r,s,n,i,o,a,l,u,c,h,d=!0){this.url_=e,this.method_=r,this.headers_=s,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(s,n)=>{if(n){s(!1,new Os(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===tr.NO_ERROR,l=i.getStatus();if(!a||Uv(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===tr.ABORT;s(!1,new Os(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;s(!0,new Os(u,i))})},r=(s,n)=>{const i=this.resolve_,o=this.reject_,a=n.connection;if(n.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jv(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Zi();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(n.canceled){const l=this.appDelete_?Jc():xv();o(l)}else{const l=Sv();o(l)}};this.canceled_?r(!1,new Os(!1,null,!0)):this.backoffId_=$v(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dv(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Os{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function Mv(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Bv(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fv(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hv(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vv(t,e,r,s,n,i,o=!0){const a=Xc(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Fv(u,e),Mv(u,r),Bv(u,i),Hv(u,s),new Nv(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qv(...t){const e=zv();if(e!==void 0){const r=new e;for(let s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}else{if(to())return new Blob(t);throw new me(ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Wv(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){if(typeof atob>"u")throw Cv("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wn{constructor(e,r){this.data=e,this.contentType=r||null}}function Gv(t,e){switch(t){case dt.RAW:return new Wn(Yc(e));case dt.BASE64:case dt.BASE64URL:return new Wn(Qc(t,e));case dt.DATA_URL:return new Wn(Xv(e),Yv(e))}throw Zi()}function Yc(t){const e=[];for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++r);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Jv(t){let e;try{e=decodeURIComponent(t)}catch{throw ts(dt.DATA_URL,"Malformed data URL.")}return Yc(e)}function Qc(t,e){switch(t){case dt.BASE64:{const n=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(n||i)throw ts(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case dt.BASE64URL:{const n=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(n||i)throw ts(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Kv(e)}catch(n){throw n.message.includes("polyfill")?n:ts(t,"Invalid character found")}const s=new Uint8Array(r.length);for(let n=0;n<r.length;n++)s[n]=r.charCodeAt(n);return s}class Zc{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw ts(dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;s!=null&&(this.base64=Qv(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Xv(t){const e=new Zc(t);return e.base64?Qc(dt.BASE64,e.rest):Jv(e.rest)}function Yv(t){return new Zc(t).contentType}function Qv(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,r){let s=0,n="";Ra(e)?(this.data_=e,s=e.size,n=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,r){if(Ra(this.data_)){const s=this.data_,n=Wv(s,e,r);return n===null?null:new Ut(n)}else{const s=new Uint8Array(this.data_.buffer,e,r-e);return new Ut(s,!0)}}static getBlob(...e){if(to()){const r=e.map(s=>s instanceof Ut?s.data_:s);return new Ut(qv.apply(null,r))}else{const r=e.map(o=>eo(o)?Gv(dt.RAW,o).data:o.data_);let s=0;r.forEach(o=>{s+=o.byteLength});const n=new Uint8Array(s);let i=0;return r.forEach(o=>{for(let a=0;a<o.length;a++)n[i++]=o[a]}),new Ut(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){let e;try{e=JSON.parse(t)}catch{return null}return Lv(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ey(t,e){const r=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?r:t+"/"+r}function tu(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){return e}class Re{constructor(e,r,s,n){this.server=e,this.local=r||e,this.writable=!!s,this.xform=n||ty}}let Cs=null;function ry(t){return!eo(t)||t.length<2?t:tu(t)}function ru(){if(Cs)return Cs;const t=[];t.push(new Re("bucket")),t.push(new Re("generation")),t.push(new Re("metageneration")),t.push(new Re("name","fullPath",!0));function e(i,o){return ry(o)}const r=new Re("name");r.xform=e,t.push(r);function s(i,o){return o!==void 0?Number(o):o}const n=new Re("size");return n.xform=s,t.push(n),t.push(new Re("timeCreated")),t.push(new Re("updated")),t.push(new Re("md5Hash",null,!0)),t.push(new Re("cacheControl",null,!0)),t.push(new Re("contentDisposition",null,!0)),t.push(new Re("contentEncoding",null,!0)),t.push(new Re("contentLanguage",null,!0)),t.push(new Re("contentType",null,!0)),t.push(new Re("metadata","customMetadata",!0)),Cs=t,Cs}function sy(t,e){function r(){const s=t.bucket,n=t.fullPath,i=new We(s,n);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function ny(t,e,r){const s={};s.type="file";const n=r.length;for(let i=0;i<n;i++){const o=r[i];s[o.local]=o.xform(s,e[o.server])}return sy(s,t),s}function su(t,e,r){const s=eu(e);return s===null?null:ny(t,s,r)}function iy(t,e,r,s){const n=eu(e);if(n===null||!eo(n.downloadTokens))return null;const i=n.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+o(c)+"/o/"+o(h),p=ro(d,r,s),v=Xc({alt:"media",token:u});return p+v})[0]}function oy(t,e){const r={},s=e.length;for(let n=0;n<s;n++){const i=e[n];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}class nu{constructor(e,r,s,n){this.url=e,this.method=r,this.handler=s,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){if(!t)throw Zi()}function ay(t,e){function r(s,n){const i=su(t,n,e);return iu(i!==null),i}return r}function ly(t,e){function r(s,n){const i=su(t,n,e);return iu(i!==null),iy(i,n,t.host,t._protocol)}return r}function ou(t){function e(r,s){let n;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?n=wv():n=bv():r.getStatus()===402?n=yv(t.bucket):r.getStatus()===403?n=Ev(t.path):n=s,n.status=r.getStatus(),n.serverResponse=s.serverResponse,n}return e}function cy(t){const e=ou(t);function r(s,n){let i=e(s,n);return s.getStatus()===404&&(i=vv(t.path)),i.serverResponse=n.serverResponse,i}return r}function uy(t,e,r){const s=e.fullServerUrl(),n=ro(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new nu(n,i,ly(t,r),o);return a.errorHandler=cy(e),a}function hy(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dy(t,e,r){const s=Object.assign({},r);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=hy(null,e)),s}function fy(t,e,r,s,n){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let y=0;y<2;y++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=dy(e,s,n),c=oy(u,r),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Ut.getBlob(h,s,d);if(p===null)throw Rv();const v={name:u.fullPath},b=ro(i,t.host,t._protocol),w="POST",_=t.maxUploadRetryTime,R=new nu(b,w,ay(t,r),_);return R.urlParams=v,R.headers=o,R.body=p.uploadData(),R.errorHandler=ou(e),R}class py{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,s,n){if(this.sent_)throw Mr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),n!==void 0)for(const i in n)n.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,n[i].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gy extends py{initXhr(){this.xhr_.responseType="text"}}function au(){return new gy}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,r){this._service=e,r instanceof We?this._location=r:this._location=We.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new nr(e,r)}get root(){const e=new We(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tu(this._location.path)}get storage(){return this._service}get parent(){const e=Zv(this._location.path);if(e===null)return null;const r=new We(this._location.bucket,e);return new nr(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Pv(e)}}function my(t,e,r){t._throwIfRoot("uploadBytes");const s=fy(t.storage,t._location,ru(),new Ut(e,!0),r);return t.storage.makeRequestWithTokens(s,au).then(n=>({metadata:n,ref:t}))}function _y(t){t._throwIfRoot("getDownloadURL");const e=uy(t.storage,t._location,ru());return t.storage.makeRequestWithTokens(e,au).then(r=>{if(r===null)throw Ov();return r})}function vy(t,e){const r=ey(t._location.path,e),s=new We(t._location.bucket,r);return new nr(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return/^[A-Za-z]+:\/\//.test(t)}function by(t,e){return new nr(t,e)}function lu(t,e){if(t instanceof so){const r=t;if(r._bucket==null)throw Av();const s=new nr(r,r._bucket);return e!=null?lu(s,e):s}else return e!==void 0?vy(t,e):t}function wy(t,e){if(e&&yy(e)){if(t instanceof so)return by(t,e);throw xi("To use ref(service, url), the first argument must be a Storage instance.")}else return lu(t,e)}function Ca(t,e){const r=e==null?void 0:e[Gc];return r==null?null:We.makeFromBucketSpec(r,t)}function Ey(t,e,r,s={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:n}=s;n&&(t._overrideAuthToken=typeof n=="string"?n:Qm(n,t.app.options.projectId))}class so{constructor(e,r,s,n,i){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=n,this._firebaseVersion=i,this._bucket=null,this._host=Kc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mv,this._maxUploadRetryTime=_v,this._requests=new Set,n!=null?this._bucket=We.makeFromBucketSpec(n,this._host):this._bucket=Ca(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=We.makeFromBucketSpec(this._url,e):this._bucket=Ca(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Oa("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Oa("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nr(this,e)}_makeRequest(e,r,s,n,i=!0){if(this._deleted)return new Iv(Jc());{const o=Vv(e,this._appId,s,n,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[s,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,n).getPromise()}}const Pa="@firebase/storage",Ia="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="storage";function $a(t,e,r){return t=wn(t),my(t,e,r)}function Da(t){return t=wn(t),_y(t)}function ja(t,e){return t=wn(t),wy(t,e)}function La(t=ov(),e){t=wn(t);const s=tv(t,cu).getImmediate({identifier:e}),n=Xm("storage");return n&&Sy(s,...n),s}function Sy(t,e,r,s={}){Ey(t,e,r,s)}function xy(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),n=t.getProvider("app-check-internal");return new so(r,s,n,e,nv)}function Ty(){Ys(new hs(cu,xy,"PUBLIC").setMultipleInstances(!0)),es(Pa,Ia,""),es(Pa,Ia,"esm2017")}Ty();const ky={class:"min-h-screen bg-gray-100 py-12"},Ay={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},Ry={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Oy={class:"p-6"},Cy={key:0,class:"text-center py-8"},Py={class:"flex items-center space-x-6"},Iy={class:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden"},$y=["src"],Dy={key:1,class:"text-3xl text-gray-400"},jy={class:"grid grid-cols-1 gap-6"},Ly=["disabled"],Uy=["value"],Ny={key:0,class:"mt-1 text-sm text-gray-500"},My={class:"border-t pt-6"},By={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},Fy={key:0,class:"text-red-600 text-sm"},Hy={class:"flex justify-end space-x-3"},Vy=["disabled"],hb=or({__name:"Profile",setup(t){const e=Uc(),r=xe(!1),s=xe(""),n=xe("walker"),i=xe([]),o={model:"",color:"",seats:1,licensePlate:""},a={status:"pending"},l=xe({name:"",email:"",phoneNumber:"",profilePicture:"",role:"walker",documents:a,vehicle:{...o}}),u=Ie(()=>n.value==="driver"||n.value==="double_role"),c=async()=>{try{const{data:w,error:_}=await ne.from("roles").select("*").order("name");if(_)throw _;i.value=w||[]}catch(w){console.error("Erreur lors du chargement des rles:",w),s.value="Erreur lors du chargement des rles"}},h=async()=>{var w,_,R;try{r.value=!0;const{data:{user:T},error:y}=await ne.auth.getUser();if(y)throw y;if(!T)throw new Error("Utilisateur non connect");const{data:C,error:G}=await ne.from("profiles").select("*").eq("id",T.id).maybeSingle();if(G)throw G;const{data:q,error:B}=await ne.from("user_roles").select("roles(name)").eq("user_id",T.id).maybeSingle();if(B)throw B;const N=q;l.value={name:(C==null?void 0:C.name)||((w=T.user_metadata)==null?void 0:w.name)||"",email:T.email||"",phoneNumber:(C==null?void 0:C.phone)||"",profilePicture:(C==null?void 0:C.avatar_url)||"",role:((_=N==null?void 0:N.roles)==null?void 0:_.name)||"walker",documents:(C==null?void 0:C.documents)||a,vehicle:(C==null?void 0:C.vehicle)||{...o}},n.value=((R=N==null?void 0:N.roles)==null?void 0:R.name)||"walker"}catch(T){console.error("Error loading user profile:",T),s.value="Erreur lors du chargement du profil"}finally{r.value=!1}};wl(async()=>{await Promise.all([c(),h()])}),Sr(n,async w=>{var _;if(w!==l.value.role)try{r.value=!0;const{data:R,error:T}=await ne.from("roles").select("id").eq("name",w).single();if(T)throw T;const{error:y}=await ne.from("user_roles").upsert({user_id:(_=e.user)==null?void 0:_.id,role_id:R.id},{onConflict:"user_id"});if(y)throw y;l.value.role=w,e.user&&await e.updateProfile({...e.user,role:w})}catch(R){console.error("Erreur lors du changement de rle:",R),s.value="Erreur lors du changement de rle",n.value=l.value.role}finally{r.value=!1}});const d=async(w,_)=>{var R;try{const T=La(),y=(R=e.user)==null?void 0:R.id;if(!y)throw new Error("Utilisateur non connect");const C=ja(T,`users/${y}/documents/${w}_${Date.now()}`);await $a(C,_);const G=await Da(C);l.value.documents||(l.value.documents=a),l.value.documents[w]={url:G,uploadDate:new Date().toISOString(),verificationStatus:"pending"}}catch(T){console.error("Erreur lors du tlchargement du document:",T),alert("Erreur lors du tlchargement du document")}},p=async()=>{try{const w=document.createElement("input");w.type="file",w.accept="image/jpeg,image/png",w.onchange=async _=>{var T,y;const R=(T=_.target.files)==null?void 0:T[0];if(R){const C=La(),G=(y=e.user)==null?void 0:y.id;if(!G)throw new Error("Utilisateur non connect");const q=ja(C,`users/${G}/profile_${Date.now()}`);await $a(q,R),l.value.profilePicture=await Da(q)}},w.click()}catch(w){console.error("Erreur lors du tlchargement de la photo de profil:",w),alert("Erreur lors du tlchargement de la photo de profil")}},v=async()=>{var w;try{r.value=!0,s.value="";const{error:_}=await ne.from("profiles").upsert({id:(w=e.user)==null?void 0:w.id,name:l.value.name,phone:l.value.phoneNumber,avatar_url:l.value.profilePicture,documents:l.value.documents,vehicle:u.value?l.value.vehicle:null,updated_at:new Date().toISOString()});if(_)throw _;e.user&&await e.updateProfile({...e.user,name:l.value.name,phoneNumber:l.value.phoneNumber,profilePicture:l.value.profilePicture,documents:l.value.documents,...u.value&&{vehicle:l.value.vehicle}}),alert("Profil mis  jour avec succs")}catch(_){console.error("Erreur lors de la mise  jour du profil:",_),s.value="Erreur lors de la mise  jour du profil"}finally{r.value=!1}},b=async()=>{await h()};return(w,_)=>{var R,T;return fe(),pe("div",ky,[x("div",Ay,[x("div",Ry,[x("div",Oy,[_[22]||(_[22]=x("h1",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Mon Profil",-1)),r.value?(fe(),pe("div",Cy,_[12]||(_[12]=[x("p",{class:"text-gray-600"},"Chargement du profil...",-1)]))):(fe(),pe("form",{key:1,onSubmit:Ks(v,["prevent"]),class:"space-y-6"},[x("div",Py,[x("div",Iy,[l.value.profilePicture?(fe(),pe("img",{key:0,src:l.value.profilePicture,alt:"Photo de profil",class:"w-full h-full object-cover"},null,8,$y)):(fe(),pe("span",Dy,""))]),x("button",{type:"button",onClick:p,class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Changer la photo ")]),x("div",jy,[x("div",null,[_[13]||(_[13]=x("label",{class:"block text-sm font-medium text-gray-700"},"Nom complet",-1)),ze(x("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=y=>l.value.name=y),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[Ge,l.value.name]])]),x("div",null,[_[14]||(_[14]=x("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),ze(x("input",{type:"email","onUpdate:modelValue":_[1]||(_[1]=y=>l.value.email=y),required:"",disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm"},null,512),[[Ge,l.value.email]])]),x("div",null,[_[15]||(_[15]=x("label",{class:"block text-sm font-medium text-gray-700"},"Numro de tlphone",-1)),ze(x("input",{type:"tel","onUpdate:modelValue":_[2]||(_[2]=y=>l.value.phoneNumber=y),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[Ge,l.value.phoneNumber]])]),x("div",null,[_[16]||(_[16]=x("label",{class:"block text-sm font-medium text-gray-700"},"Type de compte",-1)),ze(x("select",{"onUpdate:modelValue":_[3]||(_[3]=y=>n.value=y),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:r.value||((R=l.value.documents)==null?void 0:R.status)==="verified"},[(fe(!0),pe(tt,null,bh(i.value,y=>(fe(),pe("option",{key:y.name,value:y.name},Je(y.description),9,Uy))),128))],8,Ly),[[$d,n.value]]),((T=l.value.documents)==null?void 0:T.status)==="verified"?(fe(),pe("p",Ny," Le type de compte ne peut plus tre modifi une fois vrifi ")):St("",!0)])]),x("div",My,[_[21]||(_[21]=x("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Documents requis",-1)),_e(Rs,{title:"Pice d'identit",document:l.value.documents.identityCard,onUpload:_[4]||(_[4]=y=>d("identityCard",y)),class:"mb-6"},null,8,["document"]),u.value?(fe(),pe(tt,{key:0},[_e(Rs,{title:"Permis de conduire",document:l.value.documents.driverLicense,onUpload:_[5]||(_[5]=y=>d("driverLicense",y)),class:"mb-6"},null,8,["document"]),_e(Rs,{title:"Carte grise",document:l.value.documents.vehicleRegistration,onUpload:_[6]||(_[6]=y=>d("vehicleRegistration",y)),class:"mb-6"},null,8,["document"]),_e(Rs,{title:"Attestation d'assurance",document:l.value.documents.insurance,onUpload:_[7]||(_[7]=y=>d("insurance",y)),class:"mb-6"},null,8,["document"]),x("div",By,[x("div",null,[_[17]||(_[17]=x("label",{class:"block text-sm font-medium text-gray-700"},"Modle du vhicule",-1)),ze(x("input",{type:"text","onUpdate:modelValue":_[8]||(_[8]=y=>l.value.vehicle.model=y),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[Ge,l.value.vehicle.model]])]),x("div",null,[_[18]||(_[18]=x("label",{class:"block text-sm font-medium text-gray-700"},"Couleur",-1)),ze(x("input",{type:"text","onUpdate:modelValue":_[9]||(_[9]=y=>l.value.vehicle.color=y),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[Ge,l.value.vehicle.color]])]),x("div",null,[_[19]||(_[19]=x("label",{class:"block text-sm font-medium text-gray-700"},"Nombre de places",-1)),ze(x("input",{type:"number","onUpdate:modelValue":_[10]||(_[10]=y=>l.value.vehicle.seats=y),required:"",min:"1",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[Ge,l.value.vehicle.seats]])]),x("div",null,[_[20]||(_[20]=x("label",{class:"block text-sm font-medium text-gray-700"},"Immatriculation",-1)),ze(x("input",{type:"text","onUpdate:modelValue":_[11]||(_[11]=y=>l.value.vehicle.licensePlate=y),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[Ge,l.value.vehicle.licensePlate]])])])],64)):St("",!0)]),s.value?(fe(),pe("div",Fy,Je(s.value),1)):St("",!0),x("div",Hy,[x("button",{type:"button",onClick:b,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Annuler "),x("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},Je(r.value?"Enregistrement...":"Enregistrer"),9,Vy)])],32))])])])])}}});export{Wy as A,kr as B,Vl as C,$s as D,El as E,tt as F,Vu as G,id as H,an as I,Ks as J,ed as K,Xy as L,Jy as M,ub as N,hb as O,lc as P,Ky as Q,Gy as R,Yy as S,zy as T,cb as _,pe as a,x as b,Ie as c,or as d,wr as e,_e as f,os as g,bh as h,St as i,xe as j,wl as k,Yh as l,ps as m,rt as n,fe as o,Sr as p,ze as q,Sl as r,ne as s,Je as t,Uc as u,$d as v,Mi as w,Ge as x,qy as y,nt as z};
