(function(){"use strict";var e={5301:function(e,o,n){var t=n(5130),s=n(6768);const i={key:0},r={key:1};function a(e,o,n,t,a,l){const c=(0,s.g2)("HeaderComponent"),u=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",null,[a.isLoading?((0,s.uX)(),(0,s.CE)("div",i,"Chargement...")):((0,s.uX)(),(0,s.CE)("div",r,[a.isAuthenticated?((0,s.uX)(),(0,s.Wv)(c,{key:0})):(0,s.Q3)("",!0),(0,s.bF)(u)]))])}n(4114);const l={class:"main-header"},c={class:"container"},u={key:0},d={key:1},p={key:2};function h(e,o,n,i,r,a){const h=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",l,[(0,s.Lk)("div",c,[o[3]||(o[3]=(0,s.Lk)("h1",null,"Mon Application Vue.js",-1)),(0,s.Lk)("nav",null,[(0,s.Lk)("ul",null,[r.isAuthenticated?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",u,[(0,s.bF)(h,{to:"/signup"},{default:(0,s.k6)((()=>o[1]||(o[1]=[(0,s.eW)("Inscription")]))),_:1})])),r.isAuthenticated?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",d,[(0,s.bF)(h,{to:"/"},{default:(0,s.k6)((()=>o[2]||(o[2]=[(0,s.eW)("Connexion")]))),_:1})])),r.isAuthenticated?((0,s.uX)(),(0,s.CE)("li",p,[(0,s.Lk)("a",{href:"#",onClick:o[0]||(o[0]=(0,t.D$)(((...e)=>a.logout&&a.logout(...e)),["prevent"]))},"Déconnexion")])):(0,s.Q3)("",!0)])])])])}var g=n(7307),m={name:"HeaderComponent",data(){return{isAuthenticated:!1}},created(){const e=(0,g.xI)();(0,g.hg)(e,(e=>{this.isAuthenticated=!!e}))},methods:{logout(){const e=(0,g.xI)();(0,g.CI)(e).then((()=>{console.log("Utilisateur déconnecté"),this.$router.push("/")})).catch((e=>{console.error("Erreur lors de la déconnexion :",e)}))}}},v=n(1241);const f=(0,v.A)(m,[["render",h],["__scopeId","data-v-feedd4ce"]]);var L=f,k={name:"App",components:{HeaderComponent:L},data(){return{isAuthenticated:!1,isLoading:!0}},created(){const e=(0,g.xI)();(0,g.hg)(e,(e=>{e?(this.isAuthenticated=!0,this.$router.push("/accueil")):(this.isAuthenticated=!1,this.$router.push("/login")),this.isLoading=!1}))}};const b=(0,v.A)(k,[["render",a],["__scopeId","data-v-8eaee658"]]);var C=b,w=n(1387),y=n.p+"media/presentation.b0255d5c.mp4";const M={id:"login",class:"container-presentation-login"},E={class:"container-bg-video-presentation"},A={class:"action-buttons"};function j(e,o,n,t,i,r){const a=(0,s.g2)("LoginModal");return(0,s.uX)(),(0,s.CE)("div",M,[(0,s.Lk)("div",E,[o[3]||(o[3]=(0,s.Lk)("video",{autoplay:"",muted:"",loop:"",class:"bg-video"},[(0,s.Lk)("source",{src:y,type:"video/mp4"}),(0,s.eW)(" Votre navigateur ne supporte pas les vidéos HTML5. ")],-1)),o[4]||(o[4]=(0,s.Lk)("div",{class:"presentation-text"},[(0,s.Lk)("h1",null,"Simplifiez vos trajets quotidiens"),(0,s.Lk)("p",null,"Réservez ou proposez des trajets en quelques clics. Rejoignez une communauté qui se déplace de manière plus écologique et économique.")],-1)),(0,s.Lk)("div",A,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>r.openModal&&r.openModal(...e))},"Se connecter"),o[2]||(o[2]=(0,s.Lk)("div",{class:"separateur"},"ou",-1)),(0,s.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>r.goToSignup&&r.goToSignup(...e))},"S'inscrire")])]),i.showLoginModal?((0,s.uX)(),(0,s.Wv)(a,{key:0,show:i.showLoginModal,onClose:r.closeModal,onLoginSuccess:r.handleLoginSuccess},null,8,["show","onClose","onLoginSuccess"])):(0,s.Q3)("",!0)])}var x=n(4232);const z={class:"modal-content"},I={key:0};function S(e,o,n,i,r,a){return n.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:o[4]||(o[4]=(0,t.D$)(((...e)=>a.closeModal&&a.closeModal(...e)),["self"]))},[(0,s.Lk)("div",z,[(0,s.Lk)("form",{onSubmit:o[2]||(o[2]=(0,t.D$)(((...e)=>a.login&&a.login(...e)),["prevent"]))},[o[5]||(o[5]=(0,s.Lk)("h2",null,"Connexion",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>r.email=e),type:"email",placeholder:"Email"},null,512),[[t.Jo,r.email]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>r.password=e),type:"password",placeholder:"Mot de passe"},null,512),[[t.Jo,r.password]]),o[6]||(o[6]=(0,s.Lk)("button",{type:"submit"},"Se connecter",-1)),r.error?((0,s.uX)(),(0,s.CE)("p",I,(0,x.v_)(r.error),1)):(0,s.Q3)("",!0)],32),(0,s.Lk)("button",{class:"close-modal",onClick:o[3]||(o[3]=(...e)=>a.closeModal&&a.closeModal(...e))},"Fermer")])])):(0,s.Q3)("",!0)}var X={props:{show:{type:Boolean,required:!0}},data(){return{email:"",password:"",error:""}},methods:{closeModal(){this.$emit("close")},login(){const e=(0,g.xI)();(0,g.x9)(e,this.email,this.password).then((e=>{console.log("Utilisateur connecté :",e.user),this.$emit("login-success"),this.closeModal()})).catch((e=>{switch(e.code){case"auth/invalid-email":this.error="L'email est invalide.";break;default:this.error="Identifiants incorrects. Veuillez vérifier vos informations."}}))}},watch:{show(e){console.log("Prop show:",e)}}};const q=(0,v.A)(X,[["render",S]]);var $=q,_={components:{LoginModal:$},data(){return{showLoginModal:!1}},methods:{openModal(){console.log("Ouverture de la modal"),this.showLoginModal=!0},closeModal(){this.showLoginModal=!1},goToSignup(){this.$router.push("/signup")},handleLoginSuccess(){this.$router.push("/accueil")}}};const O=(0,v.A)(_,[["render",j]]);var D=O,U=n.p+"img/hero-image.2f66c668.jpg";const V={id:"accueil",class:"content"},Q={class:"hero"},F={class:"hero-text"};function P(e,o,n,t,i,r){return(0,s.uX)(),(0,s.CE)("main",V,[(0,s.Lk)("section",Q,[(0,s.Lk)("div",F,[o[1]||(o[1]=(0,s.Lk)("h2",null,"Facilitez vos déplacements quotidiens",-1)),o[2]||(o[2]=(0,s.Lk)("p",null," Découvrez Daily Route NC, l'application qui révolutionne les trajets partagés en Nouvelle-Calédonie. Réservez un trajet, proposez le vôtre, et rejoignez une communauté qui se déplace de manière plus intelligente et plus écologique. ",-1)),(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...o)=>e.goToLogin&&e.goToLogin(...o)),class:"hero-button"},"Commencer Maintenant")]),o[3]||(o[3]=(0,s.Lk)("div",{class:"hero-image"},[(0,s.Lk)("img",{src:U,alt:"Carpool illustration"})],-1))]),o[4]||(o[4]=(0,s.Fv)('<section class="features"><div class="feature-item"><i class="fas fa-map-marker-alt feature-icon"></i><h3>Définissez vos trajets</h3><p>Configurez vos trajets réguliers et partagez vos déplacements avec ceux qui vont dans la même direction.</p></div><div class="feature-item"><i class="fas fa-car feature-icon"></i><h3>Partage de voiture</h3><p>Optimisez l&#39;utilisation des places disponibles dans votre véhicule, réduisez les coûts et l&#39;impact environnemental.</p></div><div class="feature-item"><i class="fas fa-coins feature-icon"></i><h3>Jetons de trajet</h3><p>Achetez des jetons dans notre boutique et utilisez-les pour rejoindre des trajets partagés facilement et rapidement.</p></div></section>',1))])}var T={name:"AccueilComponent",props:{msg:String}};const W=(0,v.A)(T,[["render",P]]);var J=W;const H={class:"signup-container"},R={class:"signup-form"},B=["disabled"],N={key:0},Y={key:1},G={key:0,class:"error"},K={key:1,class:"success"};function Z(e,o,n,i,r,a){const l=(0,s.g2)("LoginModal");return(0,s.uX)(),(0,s.CE)("div",H,[(0,s.Lk)("div",R,[o[7]||(o[7]=(0,s.Lk)("h2",null,"Inscription",-1)),(0,s.Lk)("form",{onSubmit:o[3]||(o[3]=(0,t.D$)(((...e)=>a.register&&a.register(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>r.email=e),type:"email",placeholder:"Email"},null,512),[[t.Jo,r.email]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>r.password=e),type:"password",placeholder:"Mot de passe"},null,512),[[t.Jo,r.password]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>r.confirmPassword=e),type:"password",placeholder:"Confirmer le mot de passe"},null,512),[[t.Jo,r.confirmPassword]]),(0,s.Lk)("button",{type:"submit",disabled:r.loading},[r.loading?((0,s.uX)(),(0,s.CE)("span",N,"Chargement...")):((0,s.uX)(),(0,s.CE)("span",Y,"S'inscrire"))],8,B)],32),r.error?((0,s.uX)(),(0,s.CE)("p",G,(0,x.v_)(r.error),1)):(0,s.Q3)("",!0),r.success?((0,s.uX)(),(0,s.CE)("p",K,(0,x.v_)(r.success),1)):(0,s.Q3)("",!0),(0,s.Lk)("p",null,[o[6]||(o[6]=(0,s.eW)("Déjà un compte ? ")),(0,s.Lk)("a",{href:"#",onClick:o[4]||(o[4]=(0,t.D$)(((...e)=>a.openLoginModal&&a.openLoginModal(...e)),["prevent"]))},"Connectez-vous ici")])]),(0,s.bF)(l,{show:r.showLoginModal,onClose:a.closeLoginModal,onLoginSuccess:o[5]||(o[5]=o=>e.$router.push("/accueil"))},null,8,["show","onClose"])])}var ee=n(6400),oe=n(7617),ne=n(4161);const te={apiKey:"AIzaSyCx0gP0no3Fq4V21bDxXgia7tprQ0_eUBg",authDomain:"dailyroutenc.firebaseapp.com",projectId:"dailyroutenc",storageBucket:"dailyroutenc.firebasestorage.app",messagingSenderId:"1013779718441",appId:"1:1013779718441:web:1da95b0040a880b336d738",measurementId:"G-SEEYYW8MXE"},se=(0,ee.Wp)(te),ie=((0,oe.aU)(se),(0,ne.C3)(se),(0,g.xI)(se));var re={name:"UserInscription",components:{LoginModal:$},data(){return{email:"",password:"",confirmPassword:"",error:"",success:"",loading:!1,showLoginModal:!1}},methods:{register(){return this.error="",this.success="",this.loading=!0,this.password!==this.confirmPassword?(this.error="Les mots de passe ne correspondent pas.",void(this.loading=!1)):this.email.includes("@")?this.password.length<6?(this.error="Le mot de passe doit contenir au moins 6 caractères.",void(this.loading=!1)):void(0,g.eJ)(ie,this.email,this.password).then((e=>{console.log("Utilisateur inscrit :",e.user),this.success="Inscription réussie ! Vous allez être redirigé vers la page de connexion...",this.loading=!1,setTimeout((()=>{this.$router.push("/login")}),2e3)})).catch((e=>{this.error=e.message,console.error("Erreur d'inscription :",e),this.loading=!1})):(this.error="Veuillez entrer une adresse email valide.",void(this.loading=!1))},openLoginModal(){this.showLoginModal=!0},closeLoginModal(){this.showLoginModal=!1}}};const ae=(0,v.A)(re,[["render",Z],["__scopeId","data-v-8e89ab78"]]);var le=ae;const ce=[{path:"/",name:"Login",component:D},{path:"/signup",name:"Signup",component:le},{path:"/accueil",name:"Accueil",component:J},{path:"/:pathMatch(.*)*",redirect:"/"}],ue=(0,w.aE)({history:(0,w.LA)(),routes:ce});ue.beforeEach(((e,o,n)=>{const t=(0,g.xI)(),s=!!t.currentUser;"Accueil"!==e.name||s?n():n({name:"Login"})}));var de=ue;(0,t.Ef)(C).use(de).mount("#app")}},o={};function n(t){var s=o[t];if(void 0!==s)return s.exports;var i=o[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(o,t,s,i){if(!t){var r=1/0;for(u=0;u<e.length;u++){t=e[u][0],s=e[u][1],i=e[u][2];for(var a=!0,l=0;l<t.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](t[l])}))?t.splice(l--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var c=s();void 0!==c&&(o=c)}}return o}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[t,s,i]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var s,i,r=t[0],a=t[1],l=t[2],c=0;if(r.some((function(o){return 0!==e[o]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)var u=l(n)}for(o&&o(t);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},t=self["webpackChunkdailyroutenc"]=self["webpackChunkdailyroutenc"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],(function(){return n(5301)}));t=n.O(t)})();
//# sourceMappingURL=app.edf45f63.js.map